import{f as u,l as m,k as o,u as c,r as i,o as h}from"./index-zu87m18r.js";import{u as g}from"./index-BvPrwHu-.js";import{c as f}from"./SysMenu-D-Y-5kwU.js";import{s as x,d as b,a as v}from"./PageLayout-C8IniKvO.js";import"./BtnToolBar-eoxdJY99.js";import"./index-D_2oZ5Sg.js";import"./index-D84rZFL3.js";import"./index-DA-42-7E.js";import"./isBrowser-DDdYk2YE.js";import"./formPage-D0LEgB12.js";import"./GroupLabel-CFJ4I-sR.js";import"./VF-CFm92MRs.js";import"./SysNews-CvIX60Zj.js";import"./Tabs-COcCvxIa.js";import"./useEffectWithTarget-Dhumc1Cp.js";import"./GroupButton-DUTfCbto.js";import"./TableHeader-DYttKaXK.js";import"./vlifeModal-CNFwsqlW.js";const w=({design:e,onClick:t,className:s="right-2 bottom-2 absolute"})=>{const a=u("border-blue-500 animate-pulse hover:!animate-none hover:shadow-lg transition-shadow duration-300 bg-gradient-to-r p-2 w-12 h-12 text-center cursor-pointer text-white text-xl font-extrabold rounded-lg shadow-lg",{"from-blue-500 to-purple-600":!e,"from-blue-500 to-green-600":e});return m("div",{className:`${s} z-50`,children:[o("div",{onClick:()=>t==null?void 0:t(!e),className:a,children:o("i",{className:e?"icon-pic":"icon-setting"})}),o("div",{className:"text-xs w-full text-center text-blue-500 font-bold",children:e?"返回":"设置"})]})},F=()=>{const{user:e,menu:t,setMenu:s}=c(),[a,n]=i.useState(),p=h();return i.useEffect(()=>{t&&t.pageType==="chartPage"&&(t.pageLayoutId?b({id:t.pageLayoutId}).then(r=>{n(r.data)}):x({border:!0,pageType:"chartPage",name:t.name}).then(r=>{var l;n(r.data),t.pageLayoutId=(l=r.data)==null?void 0:l.id,f(t).then(d=>{s(d.data)})}))},[t==null?void 0:t.id]),g((t==null?void 0:t.name)||"图表看板"),m("div",{className:"w-full h-full relative",children:[a&&o(v,{pageConf:a}),(e==null?void 0:e.superUser)&&o(w,{design:!1,onClick:()=>{i.startTransition(()=>{p(`/chartDesign?pageLayoutId=${a==null?void 0:a.id}`,{state:{from:location.pathname}})})}})]})};export{F as default};
