import{w as p,r,bQ as z,B as S,a as G,cV as H,cW as U,bT as M,cX as Y,cY as W,cZ as q,c_ as Q,c$ as J,d0 as ee,d1 as te,c as l,d as k,f as w,P as n,h as T,bR as L,k as ne,T as oe,_ as Z,n as se,d2 as ae}from"./index-zu87m18r.js";function re(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3a1.25 1.25 0 0 0-2.42-.44L1.83 20.3A1.25 1.25 0 0 0 3 22h6.75c.69 0 1.25-.56 1.25-1.25V3ZM8.5 19.5H4.81L8.5 9.8v9.7Z",fill:"currentColor"}),r.createElement("path",{d:"M14.02 1.77C13.43 1.88 13 2.4 13 3v17.75c0 .69.56 1.25 1.25 1.25H21a1.25 1.25 0 0 0 1.17-1.7L15.42 2.57c-.22-.57-.8-.9-1.4-.79Z",fill:"currentColor"}))}const Te=p(re,"flip_horizontal");function ie(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3.5c0-.83.67-1.5 1.5-1.5h3A3.5 3.5 0 0 1 22 5.5v3a1.5 1.5 0 0 1-3 0v-3a.5.5 0 0 0-.5-.5h-3A1.5 1.5 0 0 1 14 3.5Zm-12 2A3.5 3.5 0 0 1 5.5 2h3a1.5 1.5 0 1 1 0 3h-3a.5.5 0 0 0-.5.5v3a1.5 1.5 0 1 1-3 0v-3ZM3.5 14c.83 0 1.5.67 1.5 1.5v3c0 .28.22.5.5.5h3a1.5 1.5 0 0 1 0 3h-3A3.5 3.5 0 0 1 2 18.5v-3c0-.83.67-1.5 1.5-1.5Zm17 0c.83 0 1.5.67 1.5 1.5v3a3.5 3.5 0 0 1-3.5 3.5h-3a1.5 1.5 0 0 1 0-3h3a.5.5 0 0 0 .5-.5v-3c0-.83.67-1.5 1.5-1.5Z",fill:"currentColor"}))}const Ne=p(ie,"maximize");function le(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2c.83 0 1.5.67 1.5 1.5v3A3.5 3.5 0 0 1 6.5 10h-3a1.5 1.5 0 1 1 0-3h3a.5.5 0 0 0 .5-.5v-3C7 2.67 7.67 2 8.5 2ZM16 2c.83 0 1.5.67 1.5 1.5v3c0 .28.22.5.5.5h3a1.5 1.5 0 0 1 0 3h-3a3.5 3.5 0 0 1-3.5-3.5v-3c0-.83.67-1.5 1.5-1.5ZM2 15.5c0-.83.67-1.5 1.5-1.5h3a3.5 3.5 0 0 1 3.5 3.5v3a1.5 1.5 0 0 1-3 0v-3a.5.5 0 0 0-.5-.5h-3A1.5 1.5 0 0 1 2 15.5Zm12 2a3.5 3.5 0 0 1 3.5-3.5h3a1.5 1.5 0 0 1 0 3h-3a.5.5 0 0 0-.5.5v3a1.5 1.5 0 0 1-3 0v-3Z",fill:"currentColor"}))}const Oe=p(le,"minimize");function ce(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3a1 1 0 0 0-1.62-.78L4.65 7H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2.65l5.73 4.78A1 1 0 0 0 12 21V3Zm2.06 4.94a1.5 1.5 0 0 1 2.12 0L18 9.76l1.82-1.82a1.5 1.5 0 1 1 2.12 2.12l-1.82 1.82 1.94 1.94a1.5 1.5 0 0 1-2.12 2.12L18 14l-1.94 1.94a1.5 1.5 0 0 1-2.12-2.12l1.94-1.94-1.82-1.82a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))}const _e=p(ce,"mute");function de(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{d:"M4.5 4.75a2.75 2.75 0 0 1 5.5 0v14.5a2.75 2.75 0 1 1-5.5 0V4.75Z",fill:"currentColor"}),r.createElement("path",{d:"M14 4.75a2.75 2.75 0 1 1 5.5 0v14.5a2.75 2.75 0 1 1-5.5 0V4.75Z",fill:"currentColor"}))}const Me=p(de,"pause");function ue(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{d:"M5 2.9a1 1 0 0 1 1.57-.82l13.23 9.1a1 1 0 0 1 0 1.64l-13.23 9.1A1 1 0 0 1 5 21.1V2.9Z",fill:"currentColor"}))}const $e=p(ue,"play");function me(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22ZM10.55 7.04A1 1 0 0 0 9 7.87v8.26a1 1 0 0 0 1.55.83l6.2-4.13a1 1 0 0 0 0-1.66l-6.2-4.13Z",fill:"currentColor"}))}const De=p(me,"play_circle");function pe(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{d:"M4.5 2C3.67 2 3 2.67 3 3.5v17a1.5 1.5 0 0 0 3 0v-17C6 2.67 5.33 2 4.5 2Z",fill:"currentColor"}),r.createElement("path",{d:"m8 11.21 11.38-8.94a1 1 0 0 1 1.62.79v17.88a1 1 0 0 1-1.62.79L8 12.79a1 1 0 0 1 0-1.58Z",fill:"currentColor"}))}const Pe=p(pe,"restart");function he(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3a1 1 0 0 0-1.62-.78L4.65 7H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2.65l5.73 4.78A1 1 0 0 0 12 21V3Zm4.07 5.45a1.5 1.5 0 1 0-2.14 2.1 1.99 1.99 0 0 1 0 2.8 1.5 1.5 0 0 0 2.14 2.1 4.99 4.99 0 0 0 0-7Z",fill:"currentColor"}))}const Se=p(he,"volume_1");function fe(s){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.43 2.1A1 1 0 0 1 12 3v18a1 1 0 0 1-1.62.78L4.65 17H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.65l5.73-4.78a1 1 0 0 1 1.05-.12Zm2.52 6.33a1.5 1.5 0 0 1 2.12.02 4.99 4.99 0 0 1 0 7 1.5 1.5 0 1 1-2.14-2.1 1.99 1.99 0 0 0 0-2.8 1.5 1.5 0 0 1 .02-2.12Zm4.9-4.28a1.5 1.5 0 0 0-1.7 2.47 6.5 6.5 0 0 1 0 10.76 1.5 1.5 0 0 0 1.7 2.47 9.5 9.5 0 0 0 0-15.7Z",fill:"currentColor"}))}const Ae=p(fe,"volume_2"),N={PREFIX:`${S}-dropdown`,SELECTED:`${S}-dropdown-item-selected`,DISABLED:`${S}-dropdown-item-disabled`},$={POSITION_SET:z.POSITION_SET,TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_LEAVE_DELAY:100,ITEM_TYPE:["primary","secondary","tertiary","warning","danger"]},B={SPACING:4,NESTED_SPACING:2};class ge extends G{handleVisibleChange(e){this._adapter.setPopVisible(e),this._adapter.notifyVisibleChange(e);const{trigger:o}=this.getProps();if(e&&o==="click"){const t=this._adapter.getPopupId();this.setFocusToFirstMenuItem(t)}}getMenuItemNodes(e){const o=document.getElementById(e);return o?Array.from(o.getElementsByTagName("li")).filter(t=>t.ariaDisabled==="false"):null}setFocusToFirstMenuItem(e){const o=this.getMenuItemNodes(e);o&&H(o)}setFocusToLastMenuItem(e){const o=this.getMenuItemNodes(e);o&&U(o)}handleKeyDown(e){var o,t;const a=(t=(o=e.target)===null||o===void 0?void 0:o.attributes["data-popupid"])===null||t===void 0?void 0:t.value,{visible:i}=this._adapter.getStates();switch(e.key){case" ":case"Enter":e.target.click();break;case"ArrowDown":this.setFocusToFirstMenuItem(a),i&&M(e);break;case"ArrowUp":this.setFocusToLastMenuItem(a),i&&M(e);break}}}class ve extends G{constructor(){super(...arguments),this.menuItemNodes=null,this.firstChars=[]}handleEscape(e){this._adapter.getContext("trigger")==="custom"&&(e&&Y(document.querySelectorAll("[data-popupid]"),e.id)).focus()}setFocusByFirstCharacter(e,o){const t=W(this.menuItemNodes,e,this.firstChars,o);t>=0&&q(this.menuItemNodes,this.menuItemNodes[t])}onMenuKeydown(e){const o=Q(e.target,"tooltip");this.menuItemNodes||(this.menuItemNodes=[...e.target.parentNode.getElementsByTagName("li")].filter(a=>a.ariaDisabled!=="true")),this.firstChars.length===0&&this.menuItemNodes.forEach(a=>{var i;this.firstChars.push((i=a.textContent.trim()[0])===null||i===void 0?void 0:i.toLowerCase())});const t=this.menuItemNodes.find(a=>a.tabIndex===0);switch(e.key){case" ":case"Enter":e.target.click();break;case"Escape":this.handleEscape(o);break;case"ArrowUp":te(this.menuItemNodes,t),M(e);break;case"ArrowDown":ee(this.menuItemNodes,t),M(e);break;default:J(e.key)&&this.setFocusByFirstCharacter(t,e.key);break}}}const C=l.createContext({level:0});var we=function(s,e){var o={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(o[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(s);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(s,t[a])&&(o[t[a]]=s[t[a]]);return o};const be=N.PREFIX;class j extends k{constructor(e){super(e),this.foundation=new ve(this.adapter)}get adapter(){return Object.assign({},super.adapter)}render(){const e=this.props,{children:o,className:t,style:a}=e,i=we(e,["children","className","style"]);return l.createElement("ul",Object.assign({role:"menu","aria-orientation":"vertical"},i,{className:w(`${be}-menu`,t),style:a,onKeyDown:c=>this.foundation.onMenuKeydown(c)}),o)}}j.propTypes={children:n.node,className:n.string,style:n.object};j.contextType=C;const v=N.PREFIX;class O extends k{render(){const{children:e,disabled:o,className:t,forwardRef:a,style:i,type:c,active:u,icon:f,onKeyDown:E,showTick:_,hover:g}=this.props,{showTick:I}=this.context,m=I??_,D=w(t,{[`${v}-item`]:!0,[`${v}-item-disabled`]:o,[`${v}-item-hover`]:g,[`${v}-item-withTick`]:m,[`${v}-item-${c}`]:c,[`${v}-item-active`]:u}),b={};o||["onClick","onMouseEnter","onMouseLeave","onContextMenu"].forEach(h=>{this.context.level!==1&&h==="onClick"?b.onMouseDown=F=>{var V,P;F.button===0&&((P=(V=this.props)[h])===null||P===void 0||P.call(V,F))}:b[h]=this.props[h]});let y=null;switch(!0){case(m&&u):y=l.createElement(L,null);break;case(m&&!u):y=l.createElement(L,{style:{color:"transparent"}});break;default:y=null;break}let x=null;return f&&(x=l.createElement("div",{className:`${v}-item-icon`},f)),l.createElement("li",Object.assign({role:"menuitem",tabIndex:-1,"aria-disabled":o},b,{onKeyDown:E,ref:h=>a(h),className:D,style:i},this.getDataAttr(this.props)),y,x,e)}}O.propTypes={children:n.oneOfType([n.string,n.node]),name:n.string,disabled:n.bool,selected:n.bool,onClick:n.func,onMouseEnter:n.func,onMouseLeave:n.func,onContextMenu:n.func,className:n.string,style:n.object,forwardRef:n.func,type:n.oneOf($.ITEM_TYPE),active:n.bool,icon:n.node};O.contextType=C;O.defaultProps={disabled:!1,divided:!1,selected:!1,onMouseEnter:T,onMouseLeave:T,forwardRef:T};O.elementType="Dropdown.Item";const ye=N.PREFIX,X=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{style:e,className:o}=s;return l.createElement("div",{className:w(`${ye}-divider`,o),style:e})};X.propTypes={style:n.object,className:n.string};const K=N.PREFIX;class R extends r.PureComponent{render(){const{className:e,style:o,children:t}=this.props,{showTick:a}=this.context,i=w({[`${K}-title`]:!0,[`${K}-title-withTick`]:a},e);return ne("div",{className:i,style:o,children:t})}}R.propTypes={children:n.node,className:n.string,style:n.object};R.contextType=C;var A=function(s,e){var o={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(o[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(s);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(s,t[a])&&(o[t[a]]=s[t[a]]);return o};const Ce=$.POSITION_SET,Ee=$.TRIGGER_SET;class d extends k{constructor(e){super(e),this.handleVisibleChange=o=>this.foundation.handleVisibleChange(o),this.state={popVisible:e.visible},this.foundation=new ge(this.adapter),this.tooltipRef=l.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setPopVisible:e=>this.setState({popVisible:e}),notifyVisibleChange:e=>{var o,t;return(t=(o=this.props).onVisibleChange)===null||t===void 0?void 0:t.call(o,e)},getPopupId:()=>this.tooltipRef.current.getPopupId()})}renderContent(){const{render:e,menu:o,contentClassName:t,style:a,showTick:i,prefixCls:c,trigger:u}=this.props,f=w(c,t),{level:E=0}=this.context,_={showTick:i,level:E+1,trigger:u};let g=null;return l.isValidElement(e)?g=e:Array.isArray(o)&&(g=this.renderMenu()),l.createElement(C.Provider,{value:_},l.createElement("div",{className:f,style:a},l.createElement("div",{className:`${c}-content`,"x-semi-prop":"render"},g)))}renderMenu(){const{menu:e}=this.props,o=e.map((t,a)=>{switch(t.node){case"title":{const{name:i,node:c}=t,u=A(t,["name","node"]);return l.createElement(d.Title,Object.assign({},u,{key:c+i+a}),i)}case"item":{const{node:i,name:c}=t,u=A(t,["node","name"]);return l.createElement(d.Item,Object.assign({},u,{key:i+c+a}),c)}case"divider":return l.createElement(d.Divider,{key:t.node+a});default:return null}});return l.createElement(d.Menu,null,o)}renderPopCard(){const{render:e,contentClassName:o,style:t,showTick:a,prefixCls:i}=this.props,c=w(i,o),{level:u=0}=this.context,f={showTick:a,level:u+1};return l.createElement(C.Provider,{value:f},l.createElement("div",{className:c,style:t},l.createElement("div",{className:`${i}-content`},e)))}render(){const e=this.props,{children:o,position:t,trigger:a,onVisibleChange:i,zIndex:c,className:u,motion:f,margin:E,style:_,prefixCls:g}=e,I=A(e,["children","position","trigger","onVisibleChange","zIndex","className","motion","margin","style","prefixCls"]);let{spacing:m}=this.props;const{level:D}=this.context,{popVisible:b}=this.state,y=this.renderContent();return D>0?m=typeof m=="number"?m:B.NESTED_SPACING:(m===null||typeof m>"u")&&(m=B.SPACING),l.createElement(oe,Object.assign({zIndex:c,motion:f,margin:E,content:y,className:u,prefixCls:g,spacing:m,position:t,trigger:a,onVisibleChange:this.handleVisibleChange,showArrow:!1,returnFocusOnClose:!0,ref:this.tooltipRef},I),l.isValidElement(o)?l.cloneElement(o,{className:w(Z(o,"props.className"),{[`${g}-showing`]:b}),"aria-haspopup":!0,"aria-expanded":b,onKeyDown:x=>{this.foundation.handleKeyDown(x);const h=Z(o,"props.onKeyDown");h&&h(x)}}):o)}}d.Menu=j;d.Item=O;d.Divider=X;d.Title=R;d.contextType=C;d.propTypes={children:n.node,contentClassName:n.oneOfType([n.string,n.array]),className:n.string,getPopupContainer:n.func,margin:n.oneOfType([n.number,n.object]),mouseEnterDelay:n.number,mouseLeaveDelay:n.number,menu:n.array,motion:n.oneOfType([n.bool,n.func,n.object]),onVisibleChange:n.func,prefixCls:n.string,position:n.oneOf(Ce),rePosKey:n.oneOfType([n.string,n.number]),render:n.node,spacing:n.oneOfType([n.number,n.object]),showTick:n.bool,style:n.object,trigger:n.oneOf(Ee),visible:n.bool,zIndex:n.number};d.__SemiComponentName__="Dropdown";d.defaultProps=se(d.__SemiComponentName__,{onVisibleChange:T,prefixCls:N.PREFIX,zIndex:ae.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",position:"bottom",mouseLeaveDelay:$.DEFAULT_LEAVE_DELAY,showTick:!1,closeOnEsc:!0,onEscKeyDown:T});export{d as D,_e as I,Se as a,Ae as b,De as c,Me as d,$e as e,Pe as f,Te as g,Oe as h,Ne as i};
