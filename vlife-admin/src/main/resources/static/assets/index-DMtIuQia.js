import{bZ as x,r as h,q as j,l as D,H as Y,p as n,x as S,g as a,G as z,d as g,U as W,cG as J,cH as Q,b_ as ee,cI as te,cJ as se,cK as M,cL as ne,cM as oe,cN as ie,cO as re,cP as ae,cQ as le,cR as ce,A as O,c0 as K,a as de,T as pe,_ as G,cS as he}from"./index-MyzntyvH.js";import{t as ue}from"./toInteger-Ck1rw1Xb.js";function me(o){return h.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),h.createElement("path",{d:"M17 2C16.4477 2 16 2.44772 16 3V19H14V10C14 9.44772 13.5523 9 13 9H11C10.4477 9 10 9.44771 10 10V19H8V8C8 7.44772 7.55228 7 7 7H5C4.44772 7 4 7.44772 4 8V19H3C2.44772 19 2 19.4477 2 20V21C2 21.5523 2.44772 22 3 22H21C21.5523 22 22 21.5523 22 21V20C22 19.4477 21.5523 19 21 19H20V3C20 2.44772 19.5523 2 19 2H17Z",fill:"currentColor"}))}const Le=x(me,"histogram");function fe(o){return h.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),h.createElement("path",{d:"M2 11.4454C2 11.1619 2.12032 10.8917 2.33104 10.7021L11.331 2.60207C11.7113 2.2598 12.2887 2.2598 12.669 2.60207L21.669 10.7021C21.8797 10.8917 22 11.1619 22 11.4454V20C22 21.1046 21.1046 22 20 22H16C15.4477 22 15 21.5523 15 21V17C15 15.3432 13.6569 14 12 14C10.3431 14 9 15.3432 9 17V21C9 21.5523 8.55228 22 8 22H4C2.89543 22 2 21.1046 2 20V11.4454Z",fill:"currentColor"}))}const je=x(fe,"home");function ge(o){return h.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.06066 1.93934C7.47487 1.35355 6.52513 1.35355 5.93934 1.93934C5.35355 2.52513 5.35355 3.47487 5.93934 4.06066L7.87868 6H5C3.34315 6 2 7.34315 2 9V19C2 20.6569 3.34315 22 5 22H19C20.6569 22 22 20.6569 22 19V9C22 7.34315 20.6569 6 19 6H16.1213L18.0607 4.06066C18.6464 3.47487 18.6464 2.52513 18.0607 1.93934C17.4749 1.35355 16.5251 1.35355 15.9393 1.93934L12 5.87868L8.06066 1.93934ZM10 10.9343V17.0657C10 17.4651 10.4451 17.7033 10.7774 17.4818L15.376 14.416C15.6728 14.2181 15.6728 13.7819 15.376 13.584L10.7773 10.5182C10.4451 10.2967 10 10.5349 10 10.9343Z",fill:"currentColor"}))}const He=x(ge,"live");function Ce(o){return h.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99973 5.07197C7.19713 5.53535 6.20729 5.53113 5.40866 5.06092L5.1637 4.91669C4.55751 4.55978 3.77662 4.65563 3.34264 5.20927C2.69567 6.03462 2.17585 6.94251 1.79166 7.90124C1.53027 8.55354 1.83733 9.27693 2.449 9.62286L2.69407 9.76145C3.50107 10.2178 4.00002 11.0732 4.00002 12.0003C4.00002 12.9271 3.50145 13.7822 2.69492 14.2387L2.44842 14.3783C1.83596 14.725 1.52888 15.4497 1.79213 16.1024C1.98358 16.577 2.21048 17.044 2.47374 17.5C2.73723 17.9564 3.0285 18.3868 3.34416 18.7902C3.77773 19.3443 4.5588 19.4406 5.16498 19.0834L5.40839 18.9399C6.20714 18.4692 7.19739 18.4648 8.0003 18.9284C8.80291 19.3918 9.29417 20.2511 9.28627 21.1778L9.28386 21.4601C9.27787 22.1629 9.75107 22.7906 10.4468 22.8903C11.4692 23.0368 12.5154 23.0404 13.5537 22.8927C14.2499 22.7936 14.7231 22.1653 14.7169 21.462L14.7143 21.1785C14.7061 20.2514 15.1974 19.3916 16.0003 18.928C16.8029 18.4647 17.7927 18.4689 18.5914 18.9391L18.8363 19.0833C19.4425 19.4402 20.2234 19.3444 20.6574 18.7907C21.3044 17.9654 21.8242 17.0575 22.2084 16.0988C22.4698 15.4465 22.1627 14.7231 21.551 14.3772L21.306 14.2386C20.499 13.7822 20 12.9268 20 11.9997C20 11.0729 20.4986 10.2178 21.3051 9.76126L21.5516 9.62174C22.1641 9.27506 22.4712 8.55029 22.2079 7.89761C22.0165 7.42297 21.7896 6.95598 21.5263 6.50001C21.2628 6.04362 20.9715 5.61325 20.6559 5.20982C20.2223 4.65568 19.4412 4.55944 18.8351 4.91665L18.5916 5.06009C17.7929 5.53078 16.8026 5.53519 15.9997 5.07163C15.1971 4.60825 14.7059 3.74891 14.7138 2.82218L14.7162 2.53994C14.7222 1.83708 14.249 1.20945 13.5532 1.10973C12.5308 0.963214 11.4846 0.959581 10.4464 1.10733C9.75011 1.20641 9.27691 1.83473 9.28317 2.53798L9.28569 2.82154C9.29395 3.74862 8.80264 4.60841 7.99973 5.07197ZM14 15.4641C15.9132 14.3595 16.5687 11.9132 15.4641 9.99999C14.3595 8.08682 11.9132 7.43132 10 8.53589C8.08684 9.64046 7.43134 12.0868 8.53591 14C9.64048 15.9132 12.0868 16.5687 14 15.4641Z",fill:"currentColor"}))}const $e=x(Ce,"setting");function be(o){return h.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2ZM6 4C5.44772 4 5 4.44772 5 5V19C5 19.5523 5.44772 20 6 20H9C9.55229 20 10 19.5523 10 19V5C10 4.44772 9.55229 4 9 4H6Z",fill:"currentColor"}))}const Ae=x(be,"sidebar");class ye extends j{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const X={PREFIX:`${D}-collapsible`};class b extends S{constructor(e){super(e),this.domRef=a.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const s=t[0];if(s){const i=b.getEntryInfo(s);this.foundation.updateDOMHeight(i.height),this.foundation.updateDOMInRenderTree(i.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new ye(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,s){const i=Object.keys(this.props).filter(l=>!z(this.props[l],e[l])),r=Object.keys(this.state).filter(l=>!z(this.state[l],t[l]));i.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),r.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),i.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=g(`${X.PREFIX}-wrapper`,{[`${X.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),s=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return s&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),a.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var i,r;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(r=(i=this.props).onMotionEnd)===null||r===void 0||r.call(i)}},this.getDataAttr(this.props)),a.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},s&&this.props.children))}}b.__SemiComponentName__="Collapsible";b.defaultProps=Y(b.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});b.getEntryInfo=o=>{let e;o.borderBoxSize?e=!(o.borderBoxSize[0].blockSize===0&&o.borderBoxSize[0].inlineSize===0):e=!(o.contentRect.height===0&&o.contentRect.width===0);let t=0;return o.borderBoxSize?t=Math.ceil(o.borderBoxSize[0].blockSize):t=o.target.clientHeight,{isShown:e,height:t}};b.propTypes={motion:n.bool,children:n.node,isOpen:n.bool,duration:n.number,keepDOM:n.bool,collapseHeight:n.number,style:n.object,className:n.string,reCalcKey:n.oneOfType([n.string,n.number])};var Ie=J,we=Q,Ee=ue,ve=9007199254740991,F=4294967295,Te=Math.min;function Oe(o,e){if(o=Ee(o),o<1||o>ve)return[];var t=F,s=Te(o,F);e=we(e),o-=F;for(var i=Ie(s,e);++t<o;)e(t);return i}var xe=Oe;const Be=W(xe),_={PREFIX:`${D}-dropdown`,SELECTED:`${D}-dropdown-item-selected`,DISABLED:`${D}-dropdown-item-disabled`},P={POSITION_SET:ee.POSITION_SET,TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_LEAVE_DELAY:100,ITEM_TYPE:["primary","secondary","tertiary","warning","danger"]},Z={SPACING:4,NESTED_SPACING:2};class _e extends j{handleVisibleChange(e){this._adapter.setPopVisible(e),this._adapter.notifyVisibleChange(e);const{trigger:t}=this.getProps();if(e&&t==="click"){const s=this._adapter.getPopupId();this.setFocusToFirstMenuItem(s)}}getMenuItemNodes(e){const t=document.getElementById(e);return t?Array.from(t.getElementsByTagName("li")).filter(s=>s.ariaDisabled==="false"):null}setFocusToFirstMenuItem(e){const t=this.getMenuItemNodes(e);t&&te(t)}setFocusToLastMenuItem(e){const t=this.getMenuItemNodes(e);t&&se(t)}handleKeyDown(e){var t,s;const i=(s=(t=e.target)===null||t===void 0?void 0:t.attributes["data-popupid"])===null||s===void 0?void 0:s.value,{visible:r}=this._adapter.getStates();switch(e.key){case" ":case"Enter":e.target.click();break;case"ArrowDown":this.setFocusToFirstMenuItem(i),r&&M(e);break;case"ArrowUp":this.setFocusToLastMenuItem(i),r&&M(e);break}}}class Ne extends j{constructor(){super(...arguments),this.menuItemNodes=null,this.firstChars=[]}handleEscape(e){this._adapter.getContext("trigger")==="custom"&&(e&&ne(document.querySelectorAll("[data-popupid]"),e.id)).focus()}setFocusByFirstCharacter(e,t){const s=oe(this.menuItemNodes,e,this.firstChars,t);s>=0&&ie(this.menuItemNodes,this.menuItemNodes[s])}onMenuKeydown(e){const t=re(e.target,"tooltip");this.menuItemNodes||(this.menuItemNodes=[...e.target.parentNode.getElementsByTagName("li")].filter(i=>i.ariaDisabled!=="true")),this.firstChars.length===0&&this.menuItemNodes.forEach(i=>{var r;this.firstChars.push((r=i.textContent.trim()[0])===null||r===void 0?void 0:r.toLowerCase())});const s=this.menuItemNodes.find(i=>i.tabIndex===0);switch(e.key){case" ":case"Enter":e.target.click();break;case"Escape":this.handleEscape(t);break;case"ArrowUp":ce(this.menuItemNodes,s),M(e);break;case"ArrowDown":le(this.menuItemNodes,s),M(e);break;default:ae(e.key)&&this.setFocusByFirstCharacter(s,e.key);break}}}const w=a.createContext({level:0});var Re=function(o,e){var t={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&e.indexOf(s)<0&&(t[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(o);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(o,s[i])&&(t[s[i]]=o[s[i]]);return t};const De=_.PREFIX;class H extends S{constructor(e){super(e),this.foundation=new Ne(this.adapter)}get adapter(){return Object.assign({},super.adapter)}render(){const e=this.props,{children:t,className:s,style:i}=e,r=Re(e,["children","className","style"]);return a.createElement("ul",Object.assign({role:"menu","aria-orientation":"vertical"},r,{className:g(`${De}-menu`,s),style:i,onKeyDown:l=>this.foundation.onMenuKeydown(l)}),t)}}H.propTypes={children:n.node,className:n.string,style:n.object};H.contextType=w;const C=_.PREFIX;class N extends S{render(){const{children:e,disabled:t,className:s,forwardRef:i,style:r,type:l,active:d,icon:m,onKeyDown:E,showTick:R,hover:f}=this.props,{showTick:v}=this.context,p=v??R,V=g(s,{[`${C}-item`]:!0,[`${C}-item-disabled`]:t,[`${C}-item-hover`]:f,[`${C}-item-withTick`]:p,[`${C}-item-${l}`]:l,[`${C}-item-active`]:d}),y={};t||["onClick","onMouseEnter","onMouseLeave","onContextMenu"].forEach(u=>{this.context.level!==1&&u==="onClick"?y.onMouseDown=A=>{var B,k;A.button===0&&((k=(B=this.props)[u])===null||k===void 0||k.call(B,A))}:y[u]=this.props[u]});let I=null;switch(!0){case(p&&d):I=a.createElement(K,null);break;case(p&&!d):I=a.createElement(K,{style:{color:"transparent"}});break;default:I=null;break}let T=null;return m&&(T=a.createElement("div",{className:`${C}-item-icon`},m)),a.createElement("li",Object.assign({role:"menuitem",tabIndex:-1,"aria-disabled":t},y,{onKeyDown:E,ref:u=>i(u),className:V,style:r},this.getDataAttr(this.props)),I,T,e)}}N.propTypes={children:n.oneOfType([n.string,n.node]),name:n.string,disabled:n.bool,selected:n.bool,onClick:n.func,onMouseEnter:n.func,onMouseLeave:n.func,onContextMenu:n.func,className:n.string,style:n.object,forwardRef:n.func,type:n.oneOf(P.ITEM_TYPE),active:n.bool,icon:n.node};N.contextType=w;N.defaultProps={disabled:!1,divided:!1,selected:!1,onMouseEnter:O,onMouseLeave:O,forwardRef:O};N.elementType="Dropdown.Item";const Me=_.PREFIX,q=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{style:e,className:t}=o;return a.createElement("div",{className:g(`${Me}-divider`,t),style:e})};q.propTypes={style:n.object,className:n.string};const U=_.PREFIX;class $ extends h.PureComponent{render(){const{className:e,style:t,children:s}=this.props,{showTick:i}=this.context,r=g({[`${U}-title`]:!0,[`${U}-title-withTick`]:i},e);return de("div",{className:r,style:t,children:s})}}$.propTypes={children:n.node,className:n.string,style:n.object};$.contextType=w;var L=function(o,e){var t={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&e.indexOf(s)<0&&(t[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(o);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(o,s[i])&&(t[s[i]]=o[s[i]]);return t};const Se=P.POSITION_SET,Pe=P.TRIGGER_SET;class c extends S{constructor(e){super(e),this.handleVisibleChange=t=>this.foundation.handleVisibleChange(t),this.state={popVisible:e.visible},this.foundation=new _e(this.adapter),this.tooltipRef=a.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setPopVisible:e=>this.setState({popVisible:e}),notifyVisibleChange:e=>{var t,s;return(s=(t=this.props).onVisibleChange)===null||s===void 0?void 0:s.call(t,e)},getPopupId:()=>this.tooltipRef.current.getPopupId()})}renderContent(){const{render:e,menu:t,contentClassName:s,style:i,showTick:r,prefixCls:l,trigger:d}=this.props,m=g(l,s),{level:E=0}=this.context,R={showTick:r,level:E+1,trigger:d};let f=null;return a.isValidElement(e)?f=e:Array.isArray(t)&&(f=this.renderMenu()),a.createElement(w.Provider,{value:R},a.createElement("div",{className:m,style:i},a.createElement("div",{className:`${l}-content`,"x-semi-prop":"render"},f)))}renderMenu(){const{menu:e}=this.props,t=e.map((s,i)=>{switch(s.node){case"title":{const{name:r,node:l}=s,d=L(s,["name","node"]);return a.createElement(c.Title,Object.assign({},d,{key:l+r+i}),r)}case"item":{const{node:r,name:l}=s,d=L(s,["node","name"]);return a.createElement(c.Item,Object.assign({},d,{key:r+l+i}),l)}case"divider":return a.createElement(c.Divider,{key:s.node+i});default:return null}});return a.createElement(c.Menu,null,t)}renderPopCard(){const{render:e,contentClassName:t,style:s,showTick:i,prefixCls:r}=this.props,l=g(r,t),{level:d=0}=this.context,m={showTick:i,level:d+1};return a.createElement(w.Provider,{value:m},a.createElement("div",{className:l,style:s},a.createElement("div",{className:`${r}-content`},e)))}render(){const e=this.props,{children:t,position:s,trigger:i,onVisibleChange:r,zIndex:l,className:d,motion:m,margin:E,style:R,prefixCls:f}=e,v=L(e,["children","position","trigger","onVisibleChange","zIndex","className","motion","margin","style","prefixCls"]);let{spacing:p}=this.props;const{level:V}=this.context,{popVisible:y}=this.state,I=this.renderContent();return V>0?p=typeof p=="number"?p:Z.NESTED_SPACING:(p===null||typeof p>"u")&&(p=Z.SPACING),a.createElement(pe,Object.assign({zIndex:l,motion:m,margin:E,content:I,className:d,prefixCls:f,spacing:p,position:s,trigger:i,onVisibleChange:this.handleVisibleChange,showArrow:!1,returnFocusOnClose:!0,ref:this.tooltipRef},v),a.isValidElement(t)?a.cloneElement(t,{className:g(G(t,"props.className"),{[`${f}-showing`]:y}),"aria-haspopup":!0,"aria-expanded":y,onKeyDown:T=>{this.foundation.handleKeyDown(T);const u=G(t,"props.onKeyDown");u&&u(T)}}):t)}}c.Menu=H;c.Item=N;c.Divider=q;c.Title=$;c.contextType=w;c.propTypes={children:n.node,contentClassName:n.oneOfType([n.string,n.array]),className:n.string,getPopupContainer:n.func,margin:n.oneOfType([n.number,n.object]),mouseEnterDelay:n.number,mouseLeaveDelay:n.number,menu:n.array,motion:n.oneOfType([n.bool,n.func,n.object]),onVisibleChange:n.func,prefixCls:n.string,position:n.oneOf(Se),rePosKey:n.oneOfType([n.string,n.number]),render:n.node,spacing:n.oneOfType([n.number,n.object]),showTick:n.bool,style:n.object,trigger:n.oneOf(Pe),visible:n.bool,zIndex:n.number};c.__SemiComponentName__="Dropdown";c.defaultProps=Y(c.__SemiComponentName__,{onVisibleChange:O,prefixCls:_.PREFIX,zIndex:he.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",position:"bottom",mouseLeaveDelay:P.DEFAULT_LEAVE_DELAY,showTick:!1,closeOnEsc:!0,onEscKeyDown:O});export{b as C,c as D,$e as I,Be as _,je as a,Le as b,He as c,Ae as d};
