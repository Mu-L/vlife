import{J as x,u as b,r,K as w,a as y,d as e,j as c}from"./index-BNDtW2eT.js";import{u as v,a as N,b as j,l as k}from"./login-CGhly-5G.js";import{l as I}from"./logo2-DYc4F8xQ.js";const E=window.localStorage.getItem(x),F=()=>{const{user:o,login:u,error:h,giteeLogin:m}=b(),[s,g]=r.useState();r.useEffect(()=>{w().then(t=>{var d;g((d=t.data)==null?void 0:d[0])})},[]);const f=y(),{values:l,setFieldValue:i}=v({username:E||"",password:""},null);r.useEffect(()=>{o&&o.id&&f("/")},[o]);const n=async()=>{await u(l).then(()=>{})},p="",[a,P]=N(["code","from"]);return r.useEffect(()=>{a.code!==void 0&&a.from==="gitee"&&m(a.code).then(t=>{})},[a]),e("div",{style:{backgroundImage:`url(${j})`},className:"bg-fixed relative bg-cover bg-center w-full justify-center flex items-center h-screen",children:c("div",{style:{width:"748px",height:"334px"},className:"  flex justify-center items-center",children:[e("div",{style:{width:"398px",backgroundImage:`url(${k})`,backgroundSize:"cover",backgroundPosition:"center"},className:"h-full bg-white rounded-l-3xl shadow-xl shadow-left shadow-top shadow-bottom"}),e("div",{style:{width:"358px",height:"334px"},className:"relative  flex justify-center items-center bg-white rounded-r-3xl shadow-xl shadow-right shadow-top shadow-bottom",children:c("div",{style:{width:"258px"},className:"flex flex-col  justify-center items-center",children:[e("div",{className:" flex justify-left w-full ",children:s!=null&&s.icon?e("img",{src:p+"/sysFile/image/"+(s==null?void 0:s.icon),style:{width:160,height:40,top:10}}):e("img",{src:I,style:{width:150,height:50,top:10}})}),e("p",{className:"text-red-400 pt-2 text-center  text-sm",children:h}),e("div",{className:"mb-1 pt-2 rounded",children:e("input",{type:"text",placeholder:"用户名",id:"username",value:l.username,onChange:t=>i("username",t.target.value),className:"  itali h-10 text-xl  rounded w-full text-gray-700 focus:outline-none border-b border-gray-300 focus:border-blue-400 transition duration-500 px-3 pb-3"})}),e("div",{className:"mb-2 pt-3 rounded ",children:e("input",{type:"password",id:"password",placeholder:"密码",value:l.password,onChange:t=>i("password",t.target.value),onKeyPress:t=>{t.key==="Enter"&&n()},className:"h-10  text-xl  rounded w-full text-gray-700 focus:outline-none border-b border-gray-300 focus:border-blue-400 transition duration-500 px-3 pb-3"})}),e("button",{className:" mt-4 w-64 bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 rounded-md shadow-lg hover:shadow-xl transition duration-200",onClick:n,children:"登 录"})]})})]})})};export{F as default};
