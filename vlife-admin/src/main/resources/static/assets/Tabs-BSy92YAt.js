import{r as o,j as _,a as i,d as le,T as Ne,B as xe,aj as P,P as he,u as oe,Z as fe,F as be,aK as Ie,aA as ne,aL as $e,aM as Se,aN as Ce,au as Pe,X as _e,aO as Te,aP as je,aQ as Oe}from"./index-MyzntyvH.js";import{P as ke,I as Ve,j as ie,v as Ee,V as Re,H as Be,u as Fe}from"./formPage-CmcGKePW.js";import{I as me,C as We,c as ze,T as ge}from"./index-DjDhYITW.js";import{D as ye,R as Ae,i as se,S as ce,o as Ke,p as Ge}from"./index-CCDUBNXJ.js";import{G as ve}from"./GroupButton-m5Wg7-MC.js";import{t as He}from"./static-wPmgQVRS.js";import{F as Le}from"./index-RrMxwDnz.js";const Qe=({className:r,pageSize:e,currentPage:N,total:c,max:d,onPageSizeChange:p,onPageChange:S})=>{const l=[15,30,50],x=o.useMemo(()=>d===void 0||d===-1||d>(c||0)?c||0:d,[c,d]);return _("div",{className:`${r} flex  items-center`,children:[_("div",{className:" text-gray-500 pl-4 ",children:["共",c||0,"条"]}),i(ke,{pageSize:e,total:x,currentPage:N,onPageChange:S,onPageSizeChange:S}),i("div",{className:"flex-1 text-red-500 !text-sm font-light text-center ",children:!!d&&d!==-1&&d<c&&`数据量达到显示上限(${d}条)，升级版本后无限制`}),_("div",{className:"text-gray-500 space-x-2 items-center pr-4 flex ",children:[l.map($=>i("span",{onClick:()=>{p($)},className:` ml-1 border  rounded hover:bg-slate-200 hover:cursor-pointer p-1 ${le({" bg-slate-100 text-blue-500 font-bold":$===e," font-normal":$!==e})}`,children:$},$)),"条记录"]})]})},ae=({onDataChange:r,className:e,tooltip:N,value:c,onChange:d,fieldType:p="string",hideBtn:S=!1,placeholder:l="按Enter键搜索"})=>{const[x,$]=o.useState(!1),[u,n]=o.useState(c),f=o.useRef(null),b=o.useCallback(()=>{$(!0),setTimeout(()=>{f.current&&f.current.focus()},0)},[f]),g=()=>{u===""&&$(!1)},I=A=>{A.key==="Enter"&&r(u)},z=o.useCallback(A=>{n(A),d&&d(A)},[d]),B=o.useMemo(()=>i(p==="string"?Le:Ve,{className:le({hidden:!x}),ref:f,prefix:p==="string"?i(me,{}):void 0,value:u,onChange:z,onBlur:g,onKeyPress:I,placeholder:l}),[f,u,z,g,d,I]);return i("div",{className:`${e} cursor-pointer`,id:"tooltip-container",children:x||S?N?i(Ne,{content:N,visible:x,children:B}):B:i(xe,{theme:"borderless",className:le({hidden:!x}),onClick:b,icon:i(me,{}),block:!0,children:"搜索"})})},Ue=({field:r,where:e=[],className:N,entityName:c,onChange:d,option:p})=>{var f,b,g,I,z,B,A,O,w,Q,D,ee,L,X,U,C,q;const[S,l]=o.useState(),[x,$]=o.useState(),u=(s,T,R)=>{var M,Y;return[...(R==null?void 0:R.filter(Z=>Z.opt!==T))||[],{fieldId:r.id,fieldName:r.x_component==="RelationInput"||r.x_component==="TreeSelect"?(Y=(M=r.pageComponentPropDtos)==null?void 0:M.find(Z=>Z.propName==="labelField"))==null?void 0:Y.propVal:r.x_component==="UserSelect"?"name":r.fieldName,entityName:r.entityType!==c?r.entityType:void 0,opt:T,fieldType:r.fieldType,value:s instanceof Array?s:[s]}]},n=o.useCallback((s,T)=>{if(s){let R=u(s,T,e);T===P.goe&&x&&(R=u(x,P.loe,R)),T===P.loe&&S&&(R=u(S,P.goe,R)),d(R)}else d([...(e==null?void 0:e.filter(R=>R.opt!==T))||[]])},[r,e,c,x,S]);return _("div",{className:`${N} flex-grow px-4 pt-6`,children:[r.fieldType==="string"&&r.x_component!=="DictSelect"&&r.x_component!=="DictRadio"&&r.x_component!=="DictCheckbox"&&r.x_component!=="VfImage"&&i(ae,{className:"border-b pb-2 border-dashed border-gray-300 mb-2",hideBtn:!0,value:(g=(b=(f=e==null?void 0:e.filter(s=>s.opt==="like"))==null?void 0:f[0])==null?void 0:b.value)==null?void 0:g[0],onDataChange:s=>{n(s,P.like)}}),r.fieldType==="number"&&_("div",{className:"flex items-center space-x-1 justify-center border-b pb-2 border-dashed border-gray-300 mb-2",children:[i(ae,{fieldType:r.fieldType,placeholder:"最小值",value:(B=(z=(I=e==null?void 0:e.filter(s=>s.opt==="goe"))==null?void 0:I[0])==null?void 0:z.value)==null?void 0:B[0],hideBtn:!0,onChange:l,onDataChange:s=>{n(s,P.goe)}}),i("span",{children:"~"}),i(ae,{fieldType:r.fieldType,placeholder:"最大值",onChange:$,value:(w=(O=(A=e==null?void 0:e.filter(s=>s.opt==="loe"))==null?void 0:A[1])==null?void 0:O.value)==null?void 0:w[0],hideBtn:!0,onDataChange:s=>{n(s,P.loe)}})]}),r.fieldType==="date"&&_("div",{className:"flex items-center space-x-1 justify-center border-b pb-2 border-dashed border-gray-300 mb-2",children:[i(ye,{format:"yyyy/MM/dd",placeholder:"最小日期",value:(D=(Q=e==null?void 0:e.filter(s=>s.opt==="goe"))==null?void 0:Q[0])==null?void 0:D.value,onChange:(s,T)=>{n(T,P.goe)}}),i("span",{children:"~"}),i(ye,{format:"yyyy/MM/dd",value:(L=(ee=e==null?void 0:e.filter(s=>s.opt==="loe"))==null?void 0:ee[0])==null?void 0:L.value,placeholder:"最大日期",onChange:(s,T)=>{n(T,P.loe)}})]}),_(Ae,{className:" border-b pb-2 border-dashed border-gray-300 mb-2",direction:"vertical",value:(U=(X=e==null?void 0:e.filter(s=>s.opt==="isNull"||s.opt==="isNotNull"))==null?void 0:X[0])==null?void 0:U.opt,onChange:s=>{s.target.value&&s.target.value.length>0?d([...(e==null?void 0:e.filter(T=>T.opt!=="isNull"&&T.opt!=="isNotNull"))||[],{fieldId:r.id,fieldName:r.fieldName,fieldType:r.fieldType,opt:s.target.value}]):d([...(e==null?void 0:e.filter(T=>T.opt!=="isNull"&&T.opt!=="isNotNull"))||[]])},children:[i(se,{children:"全部"}),i(se,{value:"isNotNull",children:"已填写"}),i(se,{value:"isNull",children:"未填写"})]}),p&&i(We,{options:p,value:(q=(C=e==null?void 0:e.filter(s=>s.opt==="in"))==null?void 0:C[0])==null?void 0:q.value,onChange:s=>{n(s,P.in)}})]})},Je=({field:r,onSort:e,where:N,onFilter:c,option:d,entityName:p})=>{var u,n,f;const[S,l]=o.useState(!1),[x,$]=o.useState("desc");return _("div",{className:"flex w-full  items-center  ",children:[_("div",{onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)},onClick:()=>{e&&(e({fieldName:r.fieldName,sort:x}),$(x==="desc"?"asc":"desc"))},className:"flex justify-center items-center w-full hover:bg-gray-200 hover:cursor-pointer p-1  rounded-sm ",children:[S===!1&&((u=ie[r.x_component])==null?void 0:u.icon)&&i(ce,{size:"small",readPretty:!0,value:(n=ie[r.x_component])==null?void 0:n.icon}),S===!0&&((f=ie[r.x_component])==null?void 0:f.icon)&&i(Ke,{}),i("div",{className:" pl-1 text-black font-bold rounded",children:r.title})]}),i("div",{className:"w-4",children:i(he,{position:"bottom",spacing:20,trigger:"click",content:i(Ue,{entityName:p,option:d,className:" p-2 w-72 rounded-md shadow-md bg-white",field:r,where:N,onChange:b=>{c&&c(b)}}),children:i(Ge,{className:"hover:cursor-pointer",size:"small"})})})]})},Xe=({where:r,order:e,formVo:N,onOrderRemove:c,onConditionRemove:d,...p})=>{var $;const{dicts:S}=oe(),l=o.useCallback(u=>N.fields.filter(n=>n.fieldName===u.fieldName)[0].title+"："+(u.sort==="asc"?"升序":"降序"),[N]),x=o.useCallback(u=>u.title+"："+r.filter(n=>n.fieldId===u.id).filter(n=>n.opt===P.isNull||n.opt===P.isNotNull||(n==null?void 0:n.value)&&(n==null?void 0:n.value.length)>0).map(n=>{var f,b,g;return n.opt===P.isNull?"未填写":n.opt===P.isNotNull?"已填写":u.dictCode?S[u.dictCode].data.filter(I=>{var z;return n.value===I.value||((z=n==null?void 0:n.value)==null?void 0:z.includes(I.value))}).map(I=>I.label).toString():n.opt===P.loe&&r.map(I=>I.opt).includes(P.goe)||n.opt===P.goe&&r.map(I=>I.opt).includes(P.loe)?n.opt===P.loe?void 0:`${r.filter(I=>I.opt===P.goe)[0].value}~${r.filter(I=>I.opt===P.loe)[0].value}`:u.fieldType==="boolean"?((f=n==null?void 0:n.value)==null?void 0:f.length)===1?n.value[0]===!0?"是":"否":((b=n==null?void 0:n.value)==null?void 0:b.length)===2?"是,否":"":(g=n==null?void 0:n.value)==null?void 0:g[0]}).filter(n=>n!=null).join(","),[N,r]);return e.length>0||r.length>0?_(ze,{className:`${p.className} whitespace-nowrap`,style:p.style,children:[e==null?void 0:e.map((u,n)=>_("div",{className:" bg-gray-100 hover:bg-gray-200 p-1 rounded h-full items-center flex text-xs  text-gray-500\r hover:text-gray-600\r ",children:[i("div",{className:"",children:`${l(u)}`}),i(fe,{size:"small",className:"ml-2 cursor-pointer",onClick:()=>{c(e.filter((f,b)=>b!==n))}})]},`order${u.fieldName}`)),($=N.fields)==null?void 0:$.filter(u=>r.map(n=>n.fieldId).includes(u.id)).filter(u=>x(u)!==u.title+"：").map((u,n)=>_("div",{className:" bg-gray-100 hover:bg-gray-200 p-1 rounded h-full items-center flex text-xs  text-gray-500\r hover:text-gray-600\r ",children:[i("div",{children:`${x(u)}`}),i(fe,{size:"small",className:"ml-2 hover:cursor-pointer",onClick:()=>{d(u.id)}})]},`condition${u.id}`))]}):i(be,{})},Ye=new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),Ze=({onLineClick:r,className:e,width:N,model:c,dataSource:d,fkMap:p,parentMap:S,orders:l,select_more:x,read:$=!1,ignores:u=[],onSelected:n,dicts:f,onColumnFilter:b,selected:g,checkedBottomShow:I,onColumnSort:z,onFieldClick:B,outSelectedColumn:A,btns:O,maxHeight:w,activeKey:Q,pagination:D,flowFormType:ee,queryFunc:L,columnSortFieldNames:X,mainFormDto:U,wheres:C=[],...q})=>{const[s,T]=o.useState();o.useEffect(()=>{T(d)},[d]);const R=o.useMemo(()=>O.filter(F=>F.multiple!==!0&&(F.actionType!=="create"||F.position==="tableLine")).map(F=>{var J;return((J=F.title)==null?void 0:J.length)||2}).reduce((F,J)=>F+J,0)*30+50,[O]),M=o.useCallback(v=>{var V,F;if(U&&U[v])return(F=(V=U[v].fields.filter(J=>J.fieldName==="name"||J.fieldName==="title"))==null?void 0:V[0])==null?void 0:F.fieldName},[U]),[Y,Z]=o.useState();o.useEffect(()=>{A&&Z(A)},[A]);const K=o.useMemo(()=>{const v=[];if(c&&c.fields){let V=[];!X||X.length===0?V=c.fields.filter(t=>!u.includes(t.fieldName)&&t.fieldName!=="id"&&t.x_component!=="VfEditor"&&t.dataType!=="array").sort((t,G)=>t.sort-G.sort):V=X.map(t=>c.fields.find(G=>G.fieldName===t));const F=R,J={string:150,boolean:150,number:150,date:150},de=(N||1200)-F-100,ue=V.filter(t=>t&&t.fieldName).map(t=>J[t.fieldType]).reduce((t,G)=>t+G,0);let pe=0;return ue<de&&(pe=(de-ue)/V.length),V.filter(t=>!!t).forEach(t=>{var G;v.push({...t,title:i(Je,{entityName:c.entityType,option:t.x_component==="DictSelect"||t.x_component==="DictRadio"||t.x_component==="DictCheckbox"?(G=f[`${t.entityType}_${t.fieldName}`])==null?void 0:G.data:t.fieldType==="boolean"?[{label:"是",value:!0},{label:"否",value:!1}]:[],field:t,where:C==null?void 0:C.filter(a=>a.fieldId===t.id),onFilter:a=>{b&&b(a?[...C==null?void 0:C.filter(m=>m.fieldId!==t.id),...a]:C==null?void 0:C.filter(m=>m.fieldId!==t.id))},onSort:a=>{z(Ie(l||[],a))}}),width:J[t.fieldType]+pe,dataIndex:t.fieldName,align:t.listAlign?t.listAlign:"center",className:`${Y===t.fieldName?"bg-blue-200":""} `})}),v==null||v.forEach((t,G)=>{if(t.ellipsis=!0,t.x_component==="DictSelect"||t.x_component==="DictRadio"||t.x_component==="DictCheckbox")t.render=(a,m,E)=>a?a.split(",").map((j,h)=>{var H,W;const y=(W=(H=f[`${t.dictCode||t.entityType+"_"+t.fieldName}`])==null?void 0:H.data)==null?void 0:W.find(te=>te.value===j);return y&&y.color?i(ge,{className:`${y.color} !text-white mr-2`,children:y==null?void 0:y.label},`${E}_${h}_${y.value}`):y?i(ge,{className:" mr-2",children:y==null?void 0:y.label},`${E}_${h}_${y.value}`):"-"}):"-";else if(t.x_component==="RelationInput"||t.x_component==="UserInput")t.render=(a,m,E)=>(p==null?void 0:p[a])||a;else if(t.x_component==="M2MSelectInput")t.render=(a,m,E)=>((a==null?void 0:a.map(j=>{var h,y,H;return((H=p==null?void 0:p[j])==null?void 0:H[(y=(h=t.pageComponentPropDtos)==null?void 0:h.find(W=>W.propName==="labelField"))==null?void 0:y.propVal])||j}))||[]).join(",");else if(t.x_component==="InputMoney")t.render=(a,m,E)=>{var j,h,y;return a?(y=(h=(j=ie.InputMoney)==null?void 0:j.props)==null?void 0:h.formatter)==null?void 0:y.call(h,a):""};else if(t.x_component==="DatePicker")t.render=(a,m,E)=>{var h,y;const j=(y=(h=t.pageComponentPropDtos)==null?void 0:h.find(H=>H.propName==="type"))==null?void 0:y.propVal;return a?j==="month"?ne(a,"yyyy/MM"):j==="dateTime"?ne(a,"yyyy/MM/dd HH:mm:ss"):ne(a,"yyyy/MM/dd"):""};else if(t.dictCode){const a=t.dictCode;t.render=(m,E,j)=>{var h,y,H;if(m===""||m===null||m===void 0)return"-";{const W=(H=(y=(h=f[a||"vlife"])==null?void 0:h.data)==null?void 0:y.filter(te=>te.value+""==m+""))==null?void 0:H[0];return W&&W.color?i("span",{className:`text-white  text-xs ${le({[`bg-${W.color}-500`]:W.color!==void 0})} px-3 py-1 font-bold  rounded-lg`,children:W.label}):W?W.label:m}}}else t.fieldType==="boolean"?t.render=(a,m,E)=>a===null?"-":a?"是":"否":t.entityFieldName==="id"&&p?t.render=(a,m,E)=>{if(a){const j=h=>{var H,W;const y=M((H=c.fields.find(te=>te.fieldName===t.dataIndex))==null?void 0:H.entityType);return y?(W=p==null?void 0:p[h])==null?void 0:W[y]:_("div",{className:" flex items-center space-x-2",children:[i(Ne,{content:"需配置外外键字段所在表的标签字段",children:i(Ce,{className:" text-red-500"})}),i("div",{children:"配置"})]})};return a.indexOf(",")===-1?B&&t.dataIndex&&B[t==null?void 0:t.dataIndex]?i("div",{className:"hover:underline text-blue-600 cursor-pointer",onClick:h=>{h.stopPropagation(),t.entityFieldName==="id"&&p?B[t.dataIndex||""](p[a]):B[t.dataIndex||""](m)},children:j(a)}):j(a):a.split(",").map(h=>i("span",{className:"text-blue-600 cursor-pointer mr-1",children:j(h)},h))}}:t.fieldName==="pcode"&&S?t.render=(a,m,E)=>S[a]:t.fieldType==="date"?t.render=(a,m,E)=>{if(typeof a=="number")return ne(a,"yyyy/MM/dd");if(a){var j=new Date(a);return ne(j,"yyyy/MM/dd")}}:$e.includes(t.fieldType)?t.render=(a,m,E)=>t.money?Ye.format(a):a:t.safeStr&&(t.render=(a,m,E)=>Se(a))}),v==null||v.forEach((t,G)=>{t.x_component==="VfImage"?t.render=(a,m,E)=>i(Ee,{size:"small",value:a,readPretty:!0,onChange:()=>{}},`index${E}`):t.x_component==="SelectIcon"&&(t.render=(a,m,E)=>i(ce,{value:a,readPretty:!0},`index${E}`))}),$!==!0&&O.length!==0&&(v==null||v.push({title:"操作",align:"center",fixed:"right",fieldName:"operate",width:R,render:(t,G,a)=>i(ve,{className:" flex items-center justify-center",entity:c.entityType,dataType:c.type,position:"tableLine",line:a,btnType:"link",activeKey:Q,btns:[...O.map(m=>({...m,disabledHide:!0,model:m.model||c.type,reaction:[...m.reaction||[],Re.result((E,j)=>{var h;return((h=j==null?void 0:j.fields)==null?void 0:h.find(y=>y.fieldName===`${c.entityType}Id`))!==void 0}).then(`${c.entityType}Id`).value(G.id).readPretty()]}))],datas:[{...G,tableSort:a}],...q,onDataChange:m=>{m!==void 0&&typeof m=="object"?L==null||L():L&&L()}},`lineBtn_${a}`)})),v}return[]},[c,p,S,O,s,$,l,X,C,Y,R,U]),k=o.useMemo(()=>(v,V)=>({style:V%2===1?{background:"#f9fafc"}:{},onClick:F=>{r==null||r(v)}}),[c,r]),re=o.useMemo(()=>({disabled:!x,fixed:!0,width:50,selectedRowKeys:g==null?void 0:g.map((v,V)=>v.id),onSelect:(v,V)=>{x==!1&&V==!0&&n&&n([v])},onChange:(v,V)=>{x&&V&&(n==null||n([...V.map(F=>F)]))}}),[g]);return _("div",{className:`${e} flex flex-col `,children:[i(Xe,{className:" h-7 items-center flex ml-2 my-1",formVo:c,onOrderRemove:v=>{z(v)},order:l||[],where:C||[],onConditionRemove:v=>{b(C.filter(V=>V.fieldId!==v))}}),i(Be,{className:" w-full flex-1  ",scroll:{y:w},resizable:!0,size:"middle",style:{display:"block",overflow:"auto"},bordered:!0,rowKey:"id",dataSource:s,columns:K,onRow:k,rowSelection:$===!0||x===void 0?void 0:re,pagination:D||!1,...q})]})},De="15",at=({className:r,tableModel:e,req:N,ignores:c,onLineClick:d,onFieldClick:p,btns:S,sysTabDto:l})=>{var Z;const{dicts:x,menu:$,setTableData:u,tableData:n}=oe(),{getModel:f}=Fe(),b=o.useRef(null),g=Pe(b),[I,z]=o.useState(1),[B,A]=o.useState(Number(De)),[O,w]=o.useState(),[Q,D]=o.useState([]),[ee,L]=o.useState(),[X,U]=o.useState(),[C,q]=o.useState([]),[s,T]=o.useState(),R=o.useMemo(()=>g!=null&&g.height?(g==null?void 0:g.height)-100:400,[g]),M=o.useMemo(()=>C&&C.length>0?{...N,conditions:N!=null&&N.conditions?{...N.conditions,where:[...N.conditions.where||[],...C]}:{orAnd:"and",where:C}}:N,[C,N]),Y=o.useMemo(()=>{if(e!=null&&e.type&&e.state&&(e.state==="published"||e.state==="restart")){const{type:K}=e;return k=>_e.post(`/${K}/page`,k)}},[e==null?void 0:e.type,e==null?void 0:e.state]);return o.useEffect(()=>{const K={order:{orders:Q&&Q.length>0?Te(Q):l!=null&&l.orderFieldName?`${l==null?void 0:l.orderFieldName}_${(l==null?void 0:l.orderDirection)||"desc"}`:""},pager:{size:B,page:I},...M,tabId:l==null?void 0:l.id};Y&&Y(K).then(k=>{k.data&&(k.data.totalPage!==0&&k.data.totalPage<I&&z(k.data.totalPage),w(k.data))})},[e==null?void 0:e.type,Q,B,I,n.loadDataFlag,JSON.stringify(M),l==null?void 0:l.id,Y]),o.useEffect(()=>{if(e&&O){s||e.fields.filter(k=>k.entityType!==e.entityType&&k.entityFieldName==="id").forEach(k=>{f({type:k.entityType}).then(re=>{re&&T(v=>({...v,[k.entityType]:re}))})});const K=async k=>{L(await je(k,e,f)),U(await Oe(k,e))};O.result&&O.result.length>0&&K(O.result)}else L({})},[O,e]),_("div",{ref:b,className:`${r} relative h-full flex flex-col text-sm    `,children:[e&&!!ee&&i(Ze,{className:"flex-1 flex ",queryFunc:()=>{u(K=>({...K,loadDataFlag:K.loadDataFlag+1}))},model:e,dataSource:(O==null?void 0:O.result)||[],fkMap:ee,parentMap:X,maxHeight:R,width:g==null?void 0:g.width,ignores:c,onFieldClick:p,dicts:x,onColumnSort:D,orders:Q,wheres:C,onColumnFilter:q,selected:n.selected,onSelected:K=>{u(k=>({...k,selected:K}))},columnSortFieldNames:((Z=l==null?void 0:l.fieldNames)==null?void 0:Z.split(","))||[],btns:d?[]:S||[],select_more:!0,onLineClick:d,mainFormDto:s},e.type+B+I+($==null?void 0:$.id)),(e==null?void 0:e.state)!=="published"&&i("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-red-300 font-medium",children:"当前可预览，数据接口需要重启服务后则能正常使用"}),i(Qe,{className:"z-30 bottom-0 absolute w-full font-bold h-12 bg-white border-t border-gray-100",total:O==null?void 0:O.total,pageSize:B,currentPage:I,max:He,onPageChange:z,onPageSizeChange:A})]})},lt=({className:r,leftBtns:e,rightBtns:N,tableModel:c,onSearchChange:d,searchFields:p,children:S})=>{const{tableData:l,setTableData:x}=oe(),[$,u]=o.useState([]);o.useState(!1),o.useEffect(()=>{u(c.fields||[])},[c]);const n=o.useMemo(()=>{var f;return(f=c.fields)==null?void 0:f.filter(b=>b.fieldType==="string"&&(p==null?void 0:p.includes(b.fieldName)))},[c,p]);return _("div",{className:`${r}  flex`,children:[i("div",{className:"flex items-center justify-between px-2 bg-white rounded-t-xl w-full",children:_("div",{className:"flex  h-full items-center",children:[S,e,n&&n.length>0&&i(ae,{className:" flex ml-2  ",tooltip:`根据进行${n.map(f=>f.title).join(",")}查询`,onDataChange:f=>{if(f&&f!==""){const b=n.map(g=>({fieldName:g.fieldName,opt:P.like,value:[f]}));d==null||d({orAnd:"or",where:b,conditions:[]})}else d==null||d(void 0)}})]})}),i("div",{className:"flex  h-full items-center mr-2",children:i(ve,{position:"tableToolbar",activeKey:l.tabActiveKey,btns:(N||[]).map(f=>({...f,onSubmitFinish:f.onSubmitFinish||(b=>{x(g=>({...g,selected:[],loadDataFlag:g.loadDataFlag+1}))})})),datas:l==null?void 0:l.selected})})]})};function qe(r){return r?typeof r=="string"?i(ce,{readPretty:!0,value:r}):r.render():null}const st=r=>{const{tabs:e,className:N,activeKey:c,onTabChange:d,children:p,tabBtn:S}=r;return _("div",{className:`${N} flex h-10 bg-white`,children:[i("div",{className:" w-4 border-b border-gray-300"}),e==null?void 0:e.map((l,x)=>x===0&&!c||c===l.key?_("div",{className:" px-2 flex cursor-pointer justify-center items-center  border-gray-300 rounded-t-md border-l border-r border-t bg-slate-50",children:[l.icon?qe(l.icon):i("i",{className:"  icon-subtable text-green-500  icon-table font-thin"}),_("span",{className:"font-bold text-sm px-1",children:[" ",l.name]}),S]},l.key):_("div",{onClick:()=>d==null?void 0:d(l.key),className:" text-gray-500 hover:bg-slate-100 cursor-pointer px-2 flex justify-center items-center text-sm  rounded-t-md border-b order-gray-300",children:[i("i",{className:"  icon-subtable  icon-table font-thin "}),_("span",{className:"font-thin",children:[" ",l.name]})]},l.key)),p&&i("div",{className:" flex border-b border-gray-300 flex-1 items-center justify-start pl-1",children:p})]})};export{st as T,at as a,lt as b};
