import{r as o,j as P,d as i,c as se,T as ve,B as he,ap as _,P as be,u as ce,a2 as me,F as Ie,aQ as $e,aG as re,aR as Se,aS as Ce,aT as _e,aA as Pe,a0 as Te,aU as je,aV as Oe,aW as Ve}from"./index-SxAtwMns.js";import{P as ke,I as Ee,j as ae,z as Re,V as We,E as ze,u as Be}from"./formPage-DEYoTnuZ.js";import{I as ge,C as Fe,d as Ae,T as ye}from"./index-Kh_0iifu.js";import{D as Ne,R as Ke,h as oe,S as de,n as Ge,o as He}from"./index-BLqHf6AC.js";import{G as xe}from"./GroupButton-C-osmH_b.js";import{t as Ue}from"./static-wPmgQVRS.js";import{F as Qe}from"./index-DtzUPu3w.js";const Je=({className:r,pageSize:t,currentPage:g,total:c,max:d,onPageSizeChange:f,onPageChange:I})=>{const l=[15,30,50],y=o.useMemo(()=>d===void 0||d===-1||d>(c||0)?c||0:d,[c,d]);return P("div",{className:`${r} flex  items-center`,children:[P("div",{className:" text-gray-500 pl-4 ",children:["共",c||0,"条"]}),i(ke,{pageSize:t,total:y,currentPage:g,onPageChange:I,onPageSizeChange:I}),i("div",{className:"flex-1 text-red-500 !text-sm font-light text-center ",children:!!d&&d!==-1&&d<c&&`数据量达到显示上限(${d}条)，升级版本后无限制`}),P("div",{className:"text-gray-500 space-x-2 items-center pr-4 flex ",children:[l.map(h=>i("span",{onClick:()=>{f(h)},className:` ml-1 border  rounded hover:bg-slate-200 hover:cursor-pointer p-1 ${se({" bg-slate-100 text-blue-500 font-bold":h===t," font-normal":h!==t})}`,children:h},h)),"条记录"]})]})},le=({onDataChange:r,className:t,tooltip:g,value:c,onChange:d,fieldType:f="string",hideBtn:I=!1,placeholder:l="按Enter键搜索"})=>{const[y,h]=o.useState(!1),[u,n]=o.useState(c),p=o.useRef(null),v=o.useCallback(()=>{h(!0),setTimeout(()=>{p.current&&p.current.focus()},0)},[p]),m=()=>{u===""&&h(!1)},x=F=>{F.key==="Enter"&&r(u)},B=o.useCallback(F=>{n(F),d&&d(F)},[d]),z=o.useMemo(()=>i(f==="string"?Qe:Ee,{className:se({hidden:!y}),ref:p,prefix:f==="string"?i(ge,{}):void 0,value:u,onChange:B,onBlur:m,onKeyPress:x,placeholder:l}),[p,u,B,m,d,x]);return i("div",{className:`${t} cursor-pointer`,id:"tooltip-container",children:y||I?g?i(ve,{content:g,visible:y,children:z}):z:i(he,{theme:"borderless",className:se({hidden:!y}),onClick:v,icon:i(ge,{}),block:!0,children:"搜索"})})},Le=({field:r,where:t=[],className:g,entityName:c,onChange:d,option:f})=>{var p,v,m,x,B,z,F,O,w,U,Z,ee,H,L,Q,S,D;const[I,l]=o.useState(),[y,h]=o.useState(),u=(s,T,E)=>{var q,Y;return[...(E==null?void 0:E.filter(X=>X.opt!==T))||[],{fieldId:r.id,fieldName:r.x_component==="RelationInput"||r.x_component==="TreeSelect"?(Y=(q=r.pageComponentPropDtos)==null?void 0:q.find(X=>X.propName==="labelField"))==null?void 0:Y.propVal:r.x_component==="UserSelect"?"name":r.fieldName,entityName:r.entityType!==c?r.entityType:void 0,opt:T,fieldType:r.fieldType,value:s instanceof Array?s:[s]}]},n=o.useCallback((s,T)=>{if(s){let E=u(s,T,t);T===_.goe&&y&&(E=u(y,_.loe,E)),T===_.loe&&I&&(E=u(I,_.goe,E)),d(E)}else d([...(t==null?void 0:t.filter(E=>E.opt!==T))||[]])},[r,t,c,y,I]);return P("div",{className:`${g} flex-grow px-4 pt-6`,children:[r.fieldType==="string"&&r.x_component!=="DictSelect"&&r.x_component!=="DictRadio"&&r.x_component!=="DictCheckbox"&&r.x_component!=="VfImage"&&i(le,{className:"border-b pb-2 border-dashed border-gray-300 mb-2",hideBtn:!0,value:(m=(v=(p=t==null?void 0:t.filter(s=>s.opt==="like"))==null?void 0:p[0])==null?void 0:v.value)==null?void 0:m[0],onDataChange:s=>{n(s,_.like)}}),r.fieldType==="number"&&P("div",{className:"flex items-center space-x-1 justify-center border-b pb-2 border-dashed border-gray-300 mb-2",children:[i(le,{fieldType:r.fieldType,placeholder:"最小值",value:(z=(B=(x=t==null?void 0:t.filter(s=>s.opt==="goe"))==null?void 0:x[0])==null?void 0:B.value)==null?void 0:z[0],hideBtn:!0,onChange:l,onDataChange:s=>{n(s,_.goe)}}),i("span",{children:"~"}),i(le,{fieldType:r.fieldType,placeholder:"最大值",onChange:h,value:(w=(O=(F=t==null?void 0:t.filter(s=>s.opt==="loe"))==null?void 0:F[1])==null?void 0:O.value)==null?void 0:w[0],hideBtn:!0,onDataChange:s=>{n(s,_.loe)}})]}),r.fieldType==="date"&&P("div",{className:"flex items-center space-x-1 justify-center border-b pb-2 border-dashed border-gray-300 mb-2",children:[i(Ne,{format:"yyyy/MM/dd",placeholder:"最小日期",value:(Z=(U=t==null?void 0:t.filter(s=>s.opt==="goe"))==null?void 0:U[0])==null?void 0:Z.value,onChange:(s,T)=>{n(T,_.goe)}}),i("span",{children:"~"}),i(Ne,{format:"yyyy/MM/dd",value:(H=(ee=t==null?void 0:t.filter(s=>s.opt==="loe"))==null?void 0:ee[0])==null?void 0:H.value,placeholder:"最大日期",onChange:(s,T)=>{n(T,_.loe)}})]}),P(Ke,{className:" border-b pb-2 border-dashed border-gray-300 mb-2",direction:"vertical",value:(Q=(L=t==null?void 0:t.filter(s=>s.opt==="isNull"||s.opt==="isNotNull"))==null?void 0:L[0])==null?void 0:Q.opt,onChange:s=>{s.target.value&&s.target.value.length>0?d([...(t==null?void 0:t.filter(T=>T.opt!=="isNull"&&T.opt!=="isNotNull"))||[],{fieldId:r.id,fieldName:r.fieldName,fieldType:r.fieldType,opt:s.target.value}]):d([...(t==null?void 0:t.filter(T=>T.opt!=="isNull"&&T.opt!=="isNotNull"))||[]])},children:[i(oe,{children:"全部"}),i(oe,{value:"isNotNull",children:"已填写"}),i(oe,{value:"isNull",children:"未填写"})]}),f&&i(Fe,{options:f,value:(D=(S=t==null?void 0:t.filter(s=>s.opt==="in"))==null?void 0:S[0])==null?void 0:D.value,onChange:s=>{n(s,_.in)}})]})},Ye=({field:r,onSort:t,where:g,onFilter:c,option:d,entityName:f})=>{var u,n,p;const[I,l]=o.useState(!1),[y,h]=o.useState("desc");return P("div",{className:"flex w-full  items-center  ",children:[P("div",{onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)},onClick:()=>{t&&(t({fieldName:r.fieldName,sort:y}),h(y==="desc"?"asc":"desc"))},className:"flex justify-center items-center w-full hover:bg-gray-200 hover:cursor-pointer p-1  rounded-sm ",children:[I===!1&&((u=ae[r.x_component])==null?void 0:u.icon)&&i(de,{size:"small",readPretty:!0,value:(n=ae[r.x_component])==null?void 0:n.icon}),I===!0&&((p=ae[r.x_component])==null?void 0:p.icon)&&i(Ge,{}),i("div",{className:" pl-1 text-black font-bold rounded",children:r.title})]}),i("div",{className:"w-4",children:i(be,{position:"bottom",spacing:20,trigger:"click",content:i(Le,{entityName:f,option:d,className:" p-2 w-72 rounded-md shadow-md bg-white",field:r,where:g,onChange:v=>{c&&c(v)}}),children:i(He,{className:"hover:cursor-pointer",size:"small"})})})]})},Xe=({where:r,order:t,formVo:g,onOrderRemove:c,onConditionRemove:d,...f})=>{var h;const{dicts:I}=ce(),l=o.useCallback(u=>g.fields.filter(n=>n.fieldName===u.fieldName)[0].title+"："+(u.sort==="asc"?"升序":"降序"),[g]),y=o.useCallback(u=>u.title+"："+r.filter(n=>n.fieldId===u.id).filter(n=>n.opt===_.isNull||n.opt===_.isNotNull||(n==null?void 0:n.value)&&(n==null?void 0:n.value.length)>0).map(n=>{var p,v,m;return n.opt===_.isNull?"未填写":n.opt===_.isNotNull?"已填写":u.dictCode?I[u.dictCode].data.filter(x=>{var B;return n.value===x.value||((B=n==null?void 0:n.value)==null?void 0:B.includes(x.value))}).map(x=>x.label).toString():n.opt===_.loe&&r.map(x=>x.opt).includes(_.goe)||n.opt===_.goe&&r.map(x=>x.opt).includes(_.loe)?n.opt===_.loe?void 0:`${r.filter(x=>x.opt===_.goe)[0].value}~${r.filter(x=>x.opt===_.loe)[0].value}`:u.fieldType==="boolean"?((p=n==null?void 0:n.value)==null?void 0:p.length)===1?n.value[0]===!0?"是":"否":((v=n==null?void 0:n.value)==null?void 0:v.length)===2?"是,否":"":(m=n==null?void 0:n.value)==null?void 0:m[0]}).filter(n=>n!=null).join(","),[g,r]);return t.length>0||r.length>0?P(Ae,{className:`${f.className} whitespace-nowrap`,style:f.style,children:[t==null?void 0:t.map((u,n)=>P("div",{className:" bg-gray-100 hover:bg-gray-200 p-1 rounded h-full items-center flex text-xs  text-gray-500\r hover:text-gray-600\r ",children:[i("div",{className:"",children:`${l(u)}`}),i(me,{size:"small",className:"ml-2 cursor-pointer",onClick:()=>{c(t.filter((p,v)=>v!==n))}})]},`order${u.fieldName}`)),(h=g.fields)==null?void 0:h.filter(u=>r.map(n=>n.fieldId).includes(u.id)).filter(u=>y(u)!==u.title+"：").map((u,n)=>P("div",{className:" bg-gray-100 hover:bg-gray-200 p-1 rounded h-full items-center flex text-xs  text-gray-500\r hover:text-gray-600\r ",children:[i("div",{children:`${y(u)}`}),i(me,{size:"small",className:"ml-2 hover:cursor-pointer",onClick:()=>{d(u.id)}})]},`condition${u.id}`))]}):i(Ie,{})},Ze=new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),De=({onLineClick:r,className:t,width:g,model:c,dataSource:d,fkMap:f,parentMap:I,orders:l,select_more:y,read:h=!1,ignores:u=[],onSelected:n,dicts:p,onColumnFilter:v,selected:m,checkedBottomShow:x,onColumnSort:B,onFieldClick:z,outSelectedColumn:F,btns:O,maxHeight:w,activeKey:U,pagination:Z,flowFormType:ee,queryFunc:H,columnSortFieldNames:L,mainFormDto:Q,wheres:S=[],...D})=>{const[s,T]=o.useState();o.useEffect(()=>{T(d)},[d]);const E=o.useMemo(()=>180,[O]),q=o.useCallback(N=>{var k,M;if(Q&&Q[N])return(M=(k=Q[N].fields.filter(te=>te.fieldName==="name"||te.fieldName==="title"))==null?void 0:k[0])==null?void 0:M.fieldName},[Q]),[Y,X]=o.useState();o.useEffect(()=>{F&&X(F)},[F]);const A=o.useMemo(()=>{const N=[];if(c&&c.fields){let k=[];!L||L.length===0?k=c.fields.filter(e=>!u.includes(e.fieldName)&&e.fieldName!=="id"&&e.x_component!=="VfEditor"&&e.dataType!=="array").sort((e,K)=>e.sort-K.sort):k=L.map(e=>c.fields.find(K=>K.fieldName===e));const M=E,te={string:150,boolean:150,number:150,date:150},ue=g-M-100,fe=k.filter(e=>e&&e.fieldName).map(e=>te[e.fieldType]).reduce((e,K)=>e+K,0);let pe=0;return fe<ue&&(pe=(ue-fe)/k.length),k.filter(e=>!!e).forEach(e=>{var K;N.push({...e,title:i(Ye,{entityName:c.entityType,option:e.x_component==="DictSelect"||e.x_component==="DictRadio"||e.x_component==="DictCheckbox"?(K=p[`${e.entityType}_${e.fieldName}`])==null?void 0:K.data:e.fieldType==="boolean"?[{label:"是",value:!0},{label:"否",value:!1}]:[],field:e,where:S==null?void 0:S.filter(R=>R.fieldId===e.id),onFilter:R=>{v&&v(R?[...S==null?void 0:S.filter(a=>a.fieldId!==e.id),...R]:S==null?void 0:S.filter(a=>a.fieldId!==e.id))},onSort:R=>{B($e(l||[],R))}}),width:te[e.fieldType]+pe,dataIndex:e.fieldName,align:e.listAlign?e.listAlign:"center",className:`${Y===e.fieldName?"bg-blue-200":""} `})}),N==null||N.forEach((e,K)=>{var R;if(e.ellipsis=!0,e.x_component==="DictSelect"||e.x_component==="DictRadio"||e.x_component==="DictCheckbox")e.render=(a,C,W)=>a?a.split(",").map((V,$)=>{var J,G;const b=(G=(J=p[`${e.dictCode||e.entityType+"_"+e.fieldName}`])==null?void 0:J.data)==null?void 0:G.find(ne=>ne.value===V);return b&&b.color?i(ye,{className:`${b.color} !text-white mr-2`,children:b==null?void 0:b.label},`${W}_${$}_${b.value}`):b?i(ye,{className:" mr-2",children:b==null?void 0:b.label},`${W}_${$}_${b.value}`):"-"}):"-";else if(e.x_component==="RelationInput"||e.x_component==="UserInput"||e.x_component==="VfTreeInput"&&((R=e.fieldName)!=null&&R.endsWith("Id")))e.render=(a,C,W)=>(f==null?void 0:f[a])||a;else if(e.x_component==="M2MSelectInput")e.render=(a,C,W)=>((a==null?void 0:a.map(V=>f==null?void 0:f[V]))||[]).join(",");else if(e.x_component==="InputMoney")e.render=(a,C,W)=>{var V,$,b;return a?(b=($=(V=ae.InputMoney)==null?void 0:V.props)==null?void 0:$.formatter)==null?void 0:b.call($,a):""};else if(e.x_component==="DatePicker")e.render=(a,C,W)=>{var $,b;const V=(b=($=e.pageComponentPropDtos)==null?void 0:$.find(J=>J.propName==="type"))==null?void 0:b.propVal;return a?V==="month"?re(a,"yyyy/MM"):V==="dateTime"?re(a,"yyyy/MM/dd HH:mm:ss"):re(a,"yyyy/MM/dd"):""};else if(e.dictCode){const a=e.dictCode;e.render=(C,W,V)=>{var $,b,J;if(C===""||C===null||C===void 0)return"-";{const G=(J=(b=($=p[a||"vlife"])==null?void 0:$.data)==null?void 0:b.filter(ne=>ne.value+""==C+""))==null?void 0:J[0];return G&&G.color?i("span",{className:`text-white  text-xs ${se({[`bg-${G.color}-500`]:G.color!==void 0})} px-3 py-1 font-bold  rounded-lg`,children:G.label}):G?G.label:C}}}else e.fieldType==="boolean"?e.render=(a,C,W)=>a===null?"-":a?"是":"否":e.entityFieldName==="id"&&f?e.render=(a,C,W)=>{if(a){const V=$=>{var J,G;const b=q((J=c.fields.find(ne=>ne.fieldName===e.dataIndex))==null?void 0:J.entityType);return b?(G=f==null?void 0:f[$])==null?void 0:G[b]:P("div",{className:" flex items-center space-x-2",children:[i(ve,{content:"需配置外外键字段所在表的标签字段",children:i(_e,{className:" text-red-500"})}),i("div",{children:"配置"})]})};return a.indexOf(",")===-1?z&&e.dataIndex&&z[e==null?void 0:e.dataIndex]?i("div",{className:"hover:underline text-blue-600 cursor-pointer",onClick:$=>{$.stopPropagation(),e.entityFieldName==="id"&&f?z[e.dataIndex||""](f[a]):z[e.dataIndex||""](C)},children:V(a)}):V(a):a.split(",").map($=>i("span",{className:"text-blue-600 cursor-pointer mr-1",children:V($)},$))}}:e.fieldName==="pcode"&&I?e.render=(a,C,W)=>I[a]:e.fieldType==="date"?e.render=(a,C,W)=>{if(typeof a=="number")return re(a,"yyyy/MM/dd");if(a){var V=new Date(a);return re(V,"yyyy/MM/dd")}}:Se.includes(e.fieldType)?e.render=(a,C,W)=>e.money?Ze.format(a):a:e.safeStr&&(e.render=(a,C,W)=>Ce(a))}),N==null||N.forEach((e,K)=>{e.x_component==="VfImage"?e.render=(R,a,C)=>i(Re,{size:"small",value:R,readPretty:!0,onChange:()=>{}},`index${C}`):e.x_component==="SelectIcon"&&(e.render=(R,a,C)=>i(de,{value:R,readPretty:!0},`index${C}`))}),h!==!0&&O.length!==0&&(N==null||N.push({title:"操作",align:"center",fixed:"right",fieldName:"operate",width:E,render:(e,K,R)=>i(xe,{more:!0,className:" flex items-center justify-center",entity:c.entityType,dataType:c.type,position:"tableLine",line:R,btnType:"link",activeKey:U,btns:[...O.map(a=>({...a,model:a.model||c.type,reaction:[...a.reaction||[],We.result((C,W)=>{var V;return((V=W==null?void 0:W.fields)==null?void 0:V.find($=>$.fieldName===`${c.entityType}Id`))!==void 0}).then(`${c.entityType}Id`).value(K.id).readPretty()]}))],datas:[{...K,tableSort:R}],...D,onDataChange:a=>{a!==void 0&&typeof a=="object"?H==null||H():H&&H()}},`lineBtn_${R}`)})),N}return[]},[c,g,f,I,O,s,h,l,L,S,Y,E,Q]),j=o.useMemo(()=>(N,k)=>({style:k%2===1?{background:"#f9fafc"}:{},onClick:M=>{r==null||r(N)}}),[c,r]),ie=o.useMemo(()=>({disabled:!y,fixed:!0,width:50,selectedRowKeys:m==null?void 0:m.map((N,k)=>N.id),onSelect:(N,k)=>{y==!1&&k==!0&&n&&n([N])},onChange:(N,k)=>{y&&k&&(n==null||n([...k.map(M=>M)]))}}),[m]);return P("div",{className:`${t} flex flex-col `,children:[i(Xe,{className:" h-7 items-center flex ml-2 my-1",formVo:c,onOrderRemove:N=>{B(N)},order:l||[],where:S||[],onConditionRemove:N=>{v(S.filter(k=>k.fieldId!==N))}}),i(ze,{className:" w-full flex-1  ",scroll:{y:w},resizable:!0,size:"middle",style:{display:"block",overflow:"auto"},bordered:!0,rowKey:"id",dataSource:s,columns:A,onRow:j,rowSelection:h===!0||y===void 0?void 0:ie,pagination:Z||!1,...D})]})},qe="15",lt=({className:r,tableModel:t,req:g,ignores:c,onLineClick:d,onFieldClick:f,btns:I,sysTabDto:l})=>{var X;const{dicts:y,menu:h,setTableData:u,tableData:n}=ce(),{getModel:p}=Be(),v=o.useRef(null),m=Pe(v),[x,B]=o.useState(1),[z,F]=o.useState(Number(qe)),[O,w]=o.useState(),[U,Z]=o.useState([]),[ee,H]=o.useState(),[L,Q]=o.useState(),[S,D]=o.useState([]),[s,T]=o.useState(),E=o.useMemo(()=>m!=null&&m.height?(m==null?void 0:m.height)-100:400,[m]),q=o.useMemo(()=>S&&S.length>0?{...g,conditions:g!=null&&g.conditions?{...g.conditions,where:[...g.conditions.where||[],...S]}:{orAnd:"and",where:S}}:g,[S,g]),Y=o.useMemo(()=>{if(t!=null&&t.type&&t.state&&(t.state==="published"||t.state==="restart")){const{type:A}=t;return j=>Te.post(`/${A}/page`,j)}},[t==null?void 0:t.type,t==null?void 0:t.state]);return o.useEffect(()=>{const A={order:{orders:U&&U.length>0?je(U):l!=null&&l.orderFieldName?`${l==null?void 0:l.orderFieldName}_${(l==null?void 0:l.orderDirection)||"desc"}`:""},pager:{size:z,page:x},...q,tabId:l==null?void 0:l.id};Y&&Y(A).then(j=>{j.data&&(j.data.totalPage!==0&&j.data.totalPage<x&&B(j.data.totalPage),w(j.data))})},[t==null?void 0:t.type,U,z,x,n.loadDataFlag,JSON.stringify(q),l==null?void 0:l.id,Y]),o.useEffect(()=>{if(t&&O){s||t.fields.filter(j=>j.entityType!==t.entityType&&j.entityFieldName==="id").forEach(j=>{p({type:j.entityType}).then(ie=>{ie&&T(N=>({...N,[j.entityType]:ie}))})});const A=async j=>{H(await Oe(j,t,p)),Q(await Ve(j,t))};O.result&&O.result.length>0&&A(O.result)}else H({})},[O,t]),P("div",{ref:v,className:`${r} relative h-full flex flex-col text-sm    `,children:[t&&!!ee&&(m==null?void 0:m.width)&&i(De,{className:"flex-1 flex ",queryFunc:()=>{u(A=>({...A,loadDataFlag:A.loadDataFlag+1}))},model:t,dataSource:(O==null?void 0:O.result)||[],fkMap:ee,parentMap:L,maxHeight:E,width:m.width,ignores:c,onFieldClick:f,dicts:y,onColumnSort:Z,orders:U,wheres:S,onColumnFilter:D,selected:n.selected,onSelected:A=>{u(j=>({...j,selected:A}))},columnSortFieldNames:((X=l==null?void 0:l.fieldNames)==null?void 0:X.split(","))||[],btns:d?[]:I||[],select_more:!0,onLineClick:d,mainFormDto:s},t.type+z+x+(h==null?void 0:h.id)),(t==null?void 0:t.state)!=="published"&&i("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-red-300 font-medium",children:"当前可预览，数据接口需要重启服务后则能正常使用"}),i(Je,{className:"z-30 bottom-0 absolute w-full font-bold h-12 bg-white border-t border-gray-100",total:O==null?void 0:O.total,pageSize:z,currentPage:x,max:Ue,onPageChange:B,onPageSizeChange:F})]})},st=({className:r,leftBtns:t,rightBtns:g,tableModel:c,onSearchChange:d,searchFields:f,children:I})=>{const{tableData:l,setTableData:y}=ce(),[h,u]=o.useState([]);o.useState(!1),o.useEffect(()=>{u(c.fields||[])},[c]);const n=o.useMemo(()=>{var p;return(p=c.fields)==null?void 0:p.filter(v=>v.fieldType==="string"&&(f==null?void 0:f.includes(v.fieldName)))},[c,f]);return P("div",{className:`${r}  flex`,children:[i("div",{className:"flex items-center justify-between px-2 bg-white rounded-t-xl w-full",children:P("div",{className:"flex  h-full items-center",children:[I,t,n&&n.length>0&&i(le,{className:" flex ml-2  ",tooltip:`根据进行${n.map(p=>p.title).join(",")}查询`,onDataChange:p=>{if(p&&p!==""){const v=n.map(m=>({fieldName:m.fieldName,opt:_.like,value:[p]}));d==null||d({orAnd:"or",where:v,conditions:[]})}else d==null||d(void 0)}})]})}),i("div",{className:"flex  h-full items-center mr-2",children:i(xe,{position:"tableToolbar",activeKey:l.tabActiveKey,btns:(g||[]).map(p=>({...p,onSubmitFinish:p.onSubmitFinish||(v=>{y(m=>({...m,selected:[],loadDataFlag:m.loadDataFlag+1}))})})),datas:l==null?void 0:l.selected})})]})};function Me(r){return r?typeof r=="string"?i(de,{readPretty:!0,value:r}):r.render():null}const ot=r=>{const{tabs:t,className:g,activeKey:c,onTabChange:d,children:f,tabBtn:I}=r;return P("div",{className:`${g} flex h-10 bg-white`,children:[i("div",{className:" w-4 border-b border-gray-300"}),t==null?void 0:t.map((l,y)=>y===0&&!c||c===l.key?P("div",{className:" px-2 flex cursor-pointer justify-center items-center  border-gray-300 rounded-t-md border-l border-r border-t bg-slate-50",children:[l.icon?Me(l.icon):i("i",{className:"  icon-subtable text-green-500  icon-table font-thin"}),P("span",{className:"font-bold text-sm px-1",children:[" ",l.name]}),I]},l.key):P("div",{onClick:()=>d==null?void 0:d(l.key),className:" text-gray-500 hover:bg-slate-100 cursor-pointer px-2 flex justify-center items-center text-sm  rounded-t-md border-b order-gray-300",children:[i("i",{className:"  icon-subtable  icon-table font-thin "}),P("span",{className:"font-thin",children:[" ",l.name]})]},l.key)),f&&i("div",{className:" flex border-b border-gray-300 flex-1 items-center justify-start pl-1",children:f})]})};export{ot as T,lt as a,st as b};
