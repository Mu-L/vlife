import{l as Ie,g as l,n as le,m as Me,c as b,o as He,p as o,q as oe,_ as W,t as M,v as Ke,x as re,T as xe,y as $e,z as Fe,A as S,C as ke,D as ce,B as de,r as ie,d as O,j as ee,F as ve,G as pe,L as Ge,H as Be}from"./index-ClvCGvy-.js";import{_ as Se,D as se,C as Ue,d as Ve}from"./index-p5CuCj6W.js";import{I as ue}from"./toInteger-DzTPojnH.js";const te={PREFIX:`${Ie}-layout`},Xe={BREAKPOINT:["xs","sm","md","lg","xl","xxl"]},Ee=l.createContext({siderHook:{addSider:le,removeSider:le}});var Ze=function(c,e){var t={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&e.indexOf(s)<0&&(t[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(c);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(c,s[n])&&(t[s[n]]=c[s[n]]);return t};const he={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},We=(()=>{let c=0;return()=>(c+=1,`${te.PREFIX}-sider-${c}`)})(),ze=Xe.BREAKPOINT;class z extends l.PureComponent{constructor(e){super(e),this.unRegisters=[],this.uniqueId="",this.uniqueId=We()}componentDidMount(){const{breakpoint:e}=this.props,s=Object.keys(he).filter(n=>e&&e.indexOf(n)!==-1).map(n=>Me(he[n],{match:()=>{this.responsiveHandler(n,!0)},unmatch:()=>{this.responsiveHandler(n,!1)}}));this.unRegisters=s,this.context.siderHook&&this.context.siderHook.addSider(this.uniqueId)}componentWillUnmount(){this.unRegisters.forEach(e=>e()),this.context.siderHook&&this.context.siderHook.removeSider(this.uniqueId)}responsiveHandler(e,t){const{onBreakpoint:s}=this.props;s&&s(e,t)}render(){const e=this.props,{prefixCls:t,className:s,children:n,style:r}=e,i=Ze(e,["prefixCls","className","children","style"]),a=b(s,{[`${t}-sider`]:!0});return l.createElement("aside",Object.assign({className:a,"aria-label":this.props["aria-label"],style:r},He(i)),l.createElement("div",{className:`${t}-sider-children`},n))}}z.propTypes={prefixCls:o.string,style:o.object,className:o.string,breakpoint:o.arrayOf(o.oneOf(ze)),onBreakpoint:o.func,"aria-label":o.string,role:o.string};z.defaultProps={prefixCls:te.PREFIX};z.contextType=Ee;z.elementType="Layout.Sider";var Ne=function(c,e){var t={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&e.indexOf(s)<0&&(t[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(c);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(c,s[n])&&(t[s[n]]=c[s[n]]);return t};const Ye={Header:"header",Footer:"footer",Content:"main",Layout:"section"};function ae(c){const e=Ye[c],t=c.toLowerCase();return s=>class extends l.PureComponent{render(){return l.createElement(s,Object.assign({role:this.props.role,"aria-label":this.props["aria-label"],type:t,tagName:e},this.props))}}}class Y extends l.PureComponent{render(){const e=this.props,{prefixCls:t,type:s,className:n,children:r,tagName:i}=e,a=Ne(e,["prefixCls","type","className","children","tagName"]),d=b(n,`${t}-${s}`);return l.createElement(i,Object.assign({className:d},a),r)}}Y.propTypes={prefixCls:o.string,style:o.object,className:o.string};Y.defaultProps={prefixCls:te.PREFIX};const qe=ae("Header")(Y),Qe=ae("Footer")(Y),Je=ae("Content")(Y);class B extends l.Component{constructor(e){super(e),this.state={siders:[]}}getSiderHook(){return{addSider:e=>{this.setState(t=>({siders:[...t.siders,e]}))},removeSider:e=>{this.setState(t=>({siders:t.siders.filter(s=>s!==e)}))}}}render(){const e=this.props,{prefixCls:t,className:s,children:n,hasSider:r,tagName:i}=e,a=Ne(e,["prefixCls","className","children","hasSider","tagName"]),{siders:d}=this.state,p=b(s,t,{[`${t}-has-sider`]:typeof r=="boolean"&&r||d.length>0||l.Children.toArray(n).some(h=>l.isValidElement(h)&&h.type&&h.type.elementType==="Layout.Sider")}),m=i;return l.createElement(Ee.Provider,{value:{siderHook:this.getSiderHook()}},l.createElement(m,Object.assign({className:p},a),n))}}B.propTypes={prefixCls:o.string,style:o.object,className:o.string};B.defaultProps={prefixCls:te.PREFIX,tagName:"section"};B.Header=qe;B.Footer=Qe;B.Content=Je;B.Sider=z;const me="horizontal",fe="vertical",K={PREFIX:`${Ie}-navigation`},u={MODE:[fe,me],MODE_VERTICAL:fe,MODE_HORIZONTAL:me,ICON_POS_LEFT:"left",ICON_POS_RIGHT:"right",DEFAULT_LOGO_ICON_SIZE:"extra-large",TOGGLE_ICON_LEFT:"left",TOGGLE_ICON_RIGHT:"right"},k={DEFAULT_SUBNAV_MAX_HEIGHT:999,DEFAULT_TOOLTIP_SHOW_DELAY:0,DEFAULT_TOOLTIP_HIDE_DELAY:100,DEFAULT_SUBNAV_OPEN_DELAY:0,DEFAULT_SUBNAV_CLOSE_DELAY:100},ge={open:"chevron_up",closed:"chevron_down"};let et=class ne{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(e==null||typeof e!="object")&&(e={text:e,itemKey:e,maxHeight:k.DEFAULT_SUBNAV_MAX_HEIGHT,link:null,items:null,icon:"",indent:!1});for(const t of Object.keys(e))this[t]=e[t];e.items&&Array.isArray(e.items)&&e.items.length?(this.items=e.items.map(t=>new ne(t)),"toggleIcon"in e?this.toggleIcon=ne.isValidToggleIcon(e.toggleIcon)?Object.assign({},e.toggleIcon):Object.assign({},ge):this.toggleIcon=Object.assign({},ge)):this.items=null}static isValidToggleIcon(e){return!!(e&&typeof e=="object"&&typeof e.open=="string"&&e.open.length&&typeof e.closed=="string"&&e.closed.length)}};class G extends oe{constructor(e){super(Object.assign({},e))}static getZeroParentKeys(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=[];for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];if(n.length){for(const i of n)if(Array.isArray(e[i])&&e[i].length){const a=e[i][0];M(a)||t.push(a)}}return t}static buildItemKeysMap(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"itemKey";if(Array.isArray(e)&&e.length)for(const r of e)if(Array.isArray(r))G.buildItemKeysMap(r,t,[...s],n);else{let i;if(r&&typeof r=="object"&&(i=r[n]||r.props&&r.props[n]),i){if(t[i]=[...s],Array.isArray(r.items)&&r.items.length)G.buildItemKeysMap(r.items,t,[...s,i],n);else if(r.props&&r.props.children){const a=Array.isArray(r.props.children)?r.props.children:[r.props.children];G.buildItemKeysMap(a,t,[...s,i],n)}}}return t}init(e){const{defaultSelectedKeys:t,selectedKeys:s}=this.getProps();let n=s||t||[];const{itemKeysMap:r,willOpenKeys:i,formattedItems:a}=this.getCalcState(),d=this.selectLevelZeroParentKeys(r,n);if(n=n.concat(d),e==="constructor")return{selectedKeys:n,itemKeysMap:r,openKeys:i,items:a};this._adapter.updateSelectedKeys(n,!1),this._adapter.setItemKeysMap(r),this._adapter.updateOpenKeys(i),this._adapter.updateItems(a),this._adapter.setItemsChanged(!0)}getCalcState(){const{itemKeysMap:e,formattedItems:t}=this.getFormattedItems(),s=this.getWillOpenKeys(e);return{itemKeysMap:e,willOpenKeys:s,formattedItems:t}}getFormattedItems(){const{items:e,children:t}=this.getProps(),s=this.formatItems(e),n=Array.isArray(e)&&e.length?s:t;return{itemKeysMap:G.buildItemKeysMap(n),formattedItems:s}}getWillOpenKeys(e){const{defaultOpenKeys:t,openKeys:s,defaultSelectedKeys:n,selectedKeys:r,mode:i}=this.getProps(),{openKeys:a=[]}=this.getStates();let d=s||t||[];if(!(Array.isArray(t)||Array.isArray(s))&&i===u.MODE_VERTICAL&&(Array.isArray(n)||Array.isArray(r))){const p=Array.isArray(r)?r:n;d=a.concat(this.getShouldOpenKeys(e,p)),d=Array.from(new Set(d))}return[...d]}getShouldOpenKeys(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const s=new Set;return Array.isArray(t)&&t.length&&t.forEach(n=>{if(n){const r=W(e,n);Array.isArray(r)&&r.forEach(i=>s.add(i))}}),[...s]}destroy(){}selectLevelZeroParentKeys(e,t){const s=M(e)?this.getState("itemKeysMap"):e,n=[];if(t.length){for(const r of t)if(Array.isArray(s[r])&&s[r].length){const i=s[r][0];M(i)||n.push(i)}}return n.length?n:[]}formatItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const s of e)t.push(new et(s));return t}handleSelect(e){this._adapter.notifySelect(e)}judgeIfOpen(e,t){let s=!1;const n=Array.isArray(e)?e:e&&[e];if(n&&Array.isArray(t)&&t.length){for(const r of t)if(s=n.includes(r.itemKey)||this.judgeIfOpen(n,r.items),s)break}return s}handleCollapseChange(){const e=!this.getState("isCollapsed");this._isControlledComponent("isCollapsed")||this._adapter.setIsCollapsed(e),this._adapter.notifyCollapseChange(e)}handleItemsChange(e){this._adapter.setItemsChanged(e)}}const ye=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=new Set(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];return n.forEach(i=>i&&t.add(i)),Array.from(t)},Oe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=new Set(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];return n.forEach(i=>i&&t.delete(i)),Array.from(t)};class tt extends oe{constructor(e){super(Object.assign({},e))}init(){this._timer=null}destroy(){this.clearDelayTimer()}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}isValidKey(e){return e!=null&&(typeof e=="number"||typeof e=="string")}handleDropdownVisibleChange(e){const t=this.getProp("itemKey"),s=this._adapter.getOpenKeysIsControlled(),n=this._adapter.getCanUpdateOpenKeys(),r=this._adapter.getOpenKeys(),i=e?ye(r,t):Oe(r,t);this.clearDelayTimer(),s||n&&this._adapter.updateOpen(e),this._adapter.notifyGlobalOpenChange({itemKey:t,openKeys:i,isOpen:e})}handleClick(e,t){const{itemKey:s,disabled:n}=this.getProps();if(n)return;const r=t&&t.contains(e.target);let i=!!this._adapter.getIsOpen();r?i=!i:i=!1;const a=i?ye(this._adapter.getOpenKeys(),s):Oe(this._adapter.getOpenKeys(),s),d={itemKey:s,openKeys:a,isOpen:i,domEvent:e},p=this._adapter.getOpenKeysIsControlled(),m=this._adapter.getCanUpdateOpenKeys();!p&&m&&this._adapter.updateOpen(i),this._adapter.notifyGlobalOpenChange(d),this._adapter.notifyGlobalOnClick(d)}handleKeyPress(e,t){Ke(e)&&this.handleClick(e,t)}}class st extends oe{constructor(e){super(Object.assign({},e))}init(){this._timer=null,this._mounted=!0}destroy(){this._mounted=!1}isValidKey(e){return e!=null&&(typeof e=="string"||typeof e=="number")}handleClick(e){const{isSubNav:t,itemKey:s,text:n,disabled:r}=this.getProps();if(r)return;!t&&this.isValidKey(s)&&!this._adapter.getSelectedKeysIsControlled()&&!this._adapter.getSelected()&&this._adapter.updateSelected(!0);const i=[s];if(!t){if(!this._adapter.getSelected()){const a=[this._adapter.cloneDeep(this.getProps())];this._adapter.notifyGlobalOnSelect({itemKey:s,selectedKeys:i,selectedItems:a,domEvent:e})}this._adapter.notifyGlobalOnClick({itemKey:s,text:n,domEvent:e})}this._adapter.notifyClick({itemKey:s,text:n,domEvent:e})}handleKeyPress(e){if(Ke(e)){const{link:t,linkOptions:s}=this.getProps(),n=W(s,"target","_self");this.handleClick(e),typeof t=="string"&&(n==="_blank"?window.open(t):window.location.href=t)}}}const U=l.createContext({isCollapsed:!1,selectedKeys:[],openKeys:[]}),C=`${K.PREFIX}-item`;class V extends re{constructor(e){super(e),this.setItemRef=t=>{this.props.forwardRef&&this.props.forwardRef(t)},this.wrapTooltip=t=>{const{text:s,tooltipHideDelay:n,tooltipShowDelay:r}=this.props,i=n??this.context.tooltipHideDelay,a=r??this.context.tooltipShowDelay;return l.createElement(xe,{content:s,position:"right",trigger:"hover",mouseEnterDelay:a,mouseLeaveDelay:i},t)},this.handleClick=t=>this.foundation.handleClick(t),this.handleKeyPress=t=>this.foundation.handleKeyPress(t),this.state={tooltipShow:!1},this.foundation=new st(this.adapter)}_invokeContextFunc(e){if(e&&this.context&&typeof this.context[e]=="function"){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return this.context[e](...s)}return null}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{cloneDeep:$e,updateTooltipShow:t=>this.setState({tooltipShow:t}),updateSelected:t=>this._invokeContextFunc("updateSelectedKeys",[this.props.itemKey]),updateGlobalSelectedKeys:t=>this._invokeContextFunc("updateSelectedKeys",[...t]),getSelectedKeys:()=>this.context&&this.context.selectedKeys,getSelectedKeysIsControlled:()=>this.context&&this.context.selectedKeysIsControlled,notifyGlobalOnSelect:function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e._invokeContextFunc("onSelect",...s)},notifyGlobalOnClick:function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e._invokeContextFunc("onClick",...s)},notifyClick:function(){return e.props.onClick(...arguments)},notifyMouseEnter:function(){return e.props.onMouseEnter(...arguments)},notifyMouseLeave:function(){return e.props.onMouseLeave(...arguments)},getIsCollapsed:()=>this.props.isCollapsed||!!(this.context&&this.context.isCollapsed)||!1,getSelected:()=>!!(this.context&&this.context.selectedKeys&&this.context.selectedKeys.includes(this.props.itemKey)),getIsOpen:()=>!!(this.context&&this.context.openKeys&&this.context.openKeys.includes(this.props.itemKey))})}renderIcon(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(this.props.isSubNav||!e&&this.context.mode===u.MODE_HORIZONTAL)return null;let r="large";t===u.ICON_POS_RIGHT&&(r="default");const i=b(`${C}-icon`,{[`${C}-icon-toggle-${this.context.toggleIconPosition}`]:s,[`${C}-icon-info`]:!s});return l.createElement("i",{className:i,key:n},Fe(e)?l.cloneElement(e,{size:e.props.size||r}):e)}render(){const{text:e,children:t,icon:s,toggleIcon:n,className:r,isSubNav:i,style:a,indent:d,onMouseEnter:p,onMouseLeave:m,link:h,linkOptions:x,disabled:I,level:g=0,tabIndex:R}=this.props,{mode:y,isInSubNav:f,prefixCls:H,limitIndent:X}=this.context,E=this.adapter.getIsCollapsed(),T=this.adapter.getSelected();let v=null;if(!M(t))v=t;else{let A=null;if(y===u.MODE_VERTICAL&&!X&&!E){const $=s&&!d?g:g-1;A=Se($,P=>this.renderIcon(null,u.ICON_POS_RIGHT,!1,P))}v=l.createElement(l.Fragment,null,A,this.context.toggleIconPosition===u.TOGGLE_ICON_LEFT&&this.renderIcon(n,u.ICON_POS_RIGHT,!0,"key-toggle-pos-right"),s||d||f?this.renderIcon(s,u.ICON_POS_LEFT,!1,"key-position-left"):null,M(e)?"":l.createElement("span",{className:`${K.PREFIX}-item-text`},e),this.context.toggleIconPosition===u.TOGGLE_ICON_RIGHT&&this.renderIcon(n,u.ICON_POS_RIGHT,!0,"key-toggle-pos-right"))}typeof h=="string"&&(v=l.createElement("a",Object.assign({className:`${H}-item-link`,href:h,tabIndex:-1},x),v));let _="";if(f&&(E||y===u.MODE_HORIZONTAL)){const A=b({[C]:!0,[`${C}-sub`]:i,[`${C}-selected`]:T,[`${C}-collapsed`]:E,[`${C}-disabled`]:I});_=l.createElement(se.Item,{selected:T,active:T,forwardRef:this.setItemRef,className:A,onClick:this.handleClick,onMouseEnter:p,onMouseLeave:m,disabled:I,onKeyDown:this.handleKeyPress},v)}else{const A=b(`${r||`${C}-normal`}`,{[C]:!0,[`${C}-sub`]:i,[`${C}-selected`]:T&&!i,[`${C}-collapsed`]:E,[`${C}-disabled`]:I,[`${C}-has-link`]:typeof h=="string"}),$={"aria-disabled":I};if(i){const P=this.adapter.getIsOpen();$["aria-expanded"]=P}_=l.createElement("li",Object.assign({role:i?null:"menuitem",tabIndex:i?-1:R},$,{style:a,ref:this.setItemRef,className:A,onClick:this.handleClick,onMouseEnter:p,onMouseLeave:m,onKeyPress:this.handleKeyPress},this.getDataAttr(this.props)),v)}return(E&&!f&&!i||E&&i&&I)&&(_=this.wrapTooltip(_)),typeof this.context.renderWrapper=="function"?this.context.renderWrapper({itemElement:_,isSubNav:i,isInSubNav:f,props:this.props}):_}}V.contextType=U;V.propTypes={text:o.oneOfType([o.string,o.node]),itemKey:o.oneOfType([o.string,o.number]),onClick:o.func,onMouseEnter:o.func,onMouseLeave:o.func,children:o.node,icon:o.oneOfType([o.node]),className:o.string,toggleIcon:o.string,style:o.object,forwardRef:o.func,indent:o.oneOfType([o.bool,o.number]),isCollapsed:o.bool,isSubNav:o.bool,link:o.string,linkOptions:o.object,disabled:o.bool,tabIndex:o.number};V.defaultProps={isSubNav:!1,indent:!1,forwardRef:S,isCollapsed:!1,onClick:S,onMouseEnter:S,onMouseLeave:S,disabled:!1,tabIndex:0};class q extends re{constructor(e){super(e),this.setItemRef=t=>{t&&t.current?this.itemRef=t:this.itemRef={current:t}},this.setTitleRef=t=>{t&&t.current?this.titleRef=t:this.titleRef={current:t}},this.handleClick=t=>{this.foundation.handleClick(t&&t.nativeEvent,this.titleRef&&this.titleRef.current)},this.handleKeyPress=t=>{this.foundation.handleKeyPress(t&&t.nativeEvent,this.titleRef&&this.titleRef.current)},this.handleDropdownVisible=t=>this.foundation.handleDropdownVisibleChange(t),this.state={isHovered:!1},this.adapter.setCache("firstMounted",!0),this.titleRef=l.createRef(),this.itemRef=l.createRef(),this.foundation=new tt(this.adapter)}_invokeContextFunc(e){if(e&&this.context&&typeof this.context[e]=="function"){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return this.context[e](...s)}return null}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsHovered:t=>this.setState({isHovered:t}),getOpenKeys:()=>this.context&&this.context.openKeys,getOpenKeysIsControlled:()=>this.context&&this.context.openKeysIsControlled,getCanUpdateOpenKeys:()=>this.context&&this.context.canUpdateOpenKeys,updateOpen:t=>this._invokeContextFunc(t?"addOpenKeys":"removeOpenKeys",this.props.itemKey),notifyGlobalOpenChange:function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e._invokeContextFunc("onOpenChange",...s)},notifyGlobalOnSelect:function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e._invokeContextFunc("onSelect",...s)},notifyGlobalOnClick:function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e._invokeContextFunc("onClick",...s)},getIsSelected:t=>!!(!M(t)&&W(this.context,"selectedKeys",[]).includes(String(t))),getIsOpen:()=>(this.props,!!(this.context&&this.context.openKeys&&this.context.openKeys.includes(this.props.itemKey)))})}renderIcon(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const{prefixCls:i}=this.context;let a="large";t===u.ICON_POS_RIGHT&&(a="default");const d=b(`${i}-item-icon`,{[`${i}-item-icon-toggle-${this.context.toggleIconPosition}`]:n,[`${i}-item-icon-info`]:!n}),p=this.adapter.getIsOpen(),m=l.isValidElement(e)?s?l.createElement(ke,{animationState:p?"enter":"leave",startClassName:`${K.PREFIX}-icon-rotate-${p?"180":"0"}`},h=>{let{animationClassName:x}=h;return l.cloneElement(e,{size:a,className:x})}):l.cloneElement(e,{size:a}):null;return l.createElement("i",{key:r,className:d},m)}renderTitleDiv(){const{text:e,icon:t,itemKey:s,indent:n,disabled:r,level:i,expandIcon:a}=this.props,{mode:d,isInSubNav:p,isCollapsed:m,prefixCls:h,subNavMotion:x,limitIndent:I}=this.context,g=this.adapter.getIsOpen(),R=b(`${h}-sub-title`,{[`${h}-sub-title-selected`]:this.adapter.getIsSelected(s),[`${h}-sub-title-disabled`]:r});let y=!1,f="";m?p?f=l.createElement(ce,null):f=null:d===u.MODE_HORIZONTAL?p?f=l.createElement(ce,{"aria-hidden":!0}):f=a||l.createElement(ue,{"aria-hidden":!0}):(x&&(y=!0),f=a||l.createElement(ue,{"aria-hidden":!0}));let H=null;if(d===u.MODE_VERTICAL&&!I&&!m){const T=t&&!n?i:i-1;H=Se(T,v=>this.renderIcon(null,u.ICON_POS_RIGHT,!1,!1,v))}const X=!m&&p&&d===u.MODE_HORIZONTAL||m&&p;return l.createElement("div",{role:"menuitem",tabIndex:X?-1:0,ref:this.setTitleRef,className:R,onClick:this.handleClick,onKeyPress:this.handleKeyPress,"aria-expanded":g?"true":"false"},l.createElement("div",{className:`${h}-item-inner`},H,this.context.toggleIconPosition===u.TOGGLE_ICON_LEFT&&this.renderIcon(f,u.ICON_POS_RIGHT,y,!0,"key-toggle-position-left"),t||n||p&&d!==u.MODE_HORIZONTAL?this.renderIcon(t,u.ICON_POS_LEFT,!1,!1,"key-inSubNav-position-left"):null,l.createElement("span",{className:`${h}-item-text`},e),this.context.toggleIconPosition===u.TOGGLE_ICON_RIGHT&&this.renderIcon(f,u.ICON_POS_RIGHT,y,!0,"key-toggle-position-right")))}renderSubUl(){const{children:e,maxHeight:t}=this.props,{isCollapsed:s,mode:n,subNavMotion:r,prefixCls:i}=this.context,a=this.adapter.getIsOpen(),d=n===u.MODE_HORIZONTAL,p=b(`${i}-sub`,{[`${i}-sub-open`]:a,[`${i}-sub-popover`]:s||d});return d?null:r?l.createElement(Ue,{motion:r,isOpen:a,keepDOM:!1,fade:!0},s?null:l.createElement("ul",{className:p},e)):a&&!s?l.createElement("ul",{className:p},e):null}wrapDropdown(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{children:s,dropdownStyle:n,disabled:r}=this.props,{mode:i,isInSubNav:a,isCollapsed:d,subNavCloseDelay:p,subNavOpenDelay:m,prefixCls:h,getPopupContainer:x}=this.context,I=this.adapter.getIsOpen(),g=this.adapter.getOpenKeysIsControlled(),R=b({[`${h}-popover`]:d}),y={trigger:"hover",style:n};return g&&(y.trigger="custom",y.visible=I),x&&(y.getPopupContainer=x),(d||i===u.MODE_HORIZONTAL)&&(t=r?t:l.createElement(se,Object.assign({className:R,render:l.createElement(se.Menu,null,s),position:i===u.MODE_HORIZONTAL&&!a?"bottomLeft":"rightTop",mouseEnterDelay:m,mouseLeaveDelay:p,onVisibleChange:this.handleDropdownVisible},y),t)),t}render(){const{itemKey:e,style:t,onMouseEnter:s,onMouseLeave:n,disabled:r,text:i}=this.props,{mode:a,isCollapsed:d,prefixCls:p}=this.context;let m=this.renderTitleDiv();const h=this.renderSubUl();return(d||a===u.MODE_HORIZONTAL)&&(m=this.wrapDropdown(m)),l.createElement(V,{style:t,isSubNav:!0,itemKey:e,forwardRef:this.setItemRef,isCollapsed:d,className:`${p}-sub-wrap`,onMouseEnter:s,onMouseLeave:n,disabled:r,text:i},l.createElement(U.Provider,{value:Object.assign(Object.assign({},this.context),{isInSubNav:!0})},m,h))}}q.contextType=U;q.propTypes={itemKey:o.oneOfType([o.string,o.number]),text:o.oneOfType([o.string,o.node]),isOpen:o.bool,isCollapsed:o.bool,indent:o.oneOfType([o.bool,o.number]),children:o.node,style:o.object,icon:o.node,maxHeight:o.number,onMouseEnter:o.func,onMouseLeave:o.func,disabled:o.bool,level:o.number};q.defaultProps={level:0,indent:!1,isCollapsed:!1,isOpen:!1,maxHeight:k.DEFAULT_SUBNAV_MAX_HEIGHT,disabled:!1};function nt(c){let{prefixCls:e,locale:t,collapseText:s,isCollapsed:n,onClick:r=S}=c;const i=()=>{typeof r=="function"&&r(!n)},a={icon:l.createElement(Ve,null),type:"tertiary",theme:"borderless",onClick:i};let d=n?t==null?void 0:t.expandText:t==null?void 0:t.collapseText;return typeof s=="function"&&(d=s(n)),l.createElement("div",{className:`${e}-collapse-btn`},n?l.createElement(xe,{content:d,position:"right"},l.createElement(de,Object.assign({},a))):l.createElement(de,Object.assign({},a),d))}class D extends ie.PureComponent{constructor(){super(...arguments),this.renderCollapseButton=()=>{const{collapseButton:e,collapseText:t}=this.props;if(l.isValidElement(e))return e;const{onCollapseChange:s,prefixCls:n,locale:r,isCollapsed:i}=this.context;return O(nt,{prefixCls:n,isCollapsed:i,locale:r,onClick:s,collapseText:t})}}render(){const{style:e,className:t,collapseButton:s,onClick:n}=this.props;let{children:r}=this.props;const{isCollapsed:i,mode:a}=this.context;!l.isValidElement(r)&&s&&a!==u.MODE_HORIZONTAL&&(r=this.renderCollapseButton());const d=b(t,`${K.PREFIX}-footer`,{[`${K.PREFIX}-footer-collapsed`]:i});return O("div",{className:d,style:e,onClick:n,children:r})}}D.contextType=U;D.propTypes={children:o.node,style:o.object,className:o.string,collapseButton:o.oneOfType([o.node,o.bool]),collapseText:o.func,onClick:o.func};D.defaultProps={collapseButton:!1,onClick:S};D.elementType="NavFooter";class w extends ie.PureComponent{renderLogo(e){return l.isValidElement(e)?e:null}render(){const{children:e,style:t,className:s,logo:n,text:r,link:i,linkOptions:a,prefixCls:d}=this.props,{isCollapsed:p}=this.context,m=b(s,`${K.PREFIX}-header`,{[`${K.PREFIX}-header-collapsed`]:p});let h=ee(ve,{children:[n?O("i",{className:`${K.PREFIX}-header-logo`,children:this.renderLogo(n)}):null,!M(r)&&!p?O("span",{className:`${K.PREFIX}-header-text`,children:r}):null,e]});return typeof i=="string"&&(h=O("a",{...Object.assign({className:`${d}-header-link`,href:i},a),children:h})),O("div",{className:m,style:t,children:h})}}w.contextType=U;w.propTypes={prefixCls:o.string,logo:o.oneOfType([o.string,o.object,o.node]),text:o.oneOfType([o.string,o.node]),children:o.node,style:o.object,className:o.string,link:o.string,linkOptions:o.object};w.defaultProps={prefixCls:K.PREFIX};w.elementType="NavHeader";var ot=function(c,e){var t={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&e.indexOf(s)<0&&(t[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(c);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(c,s[n])&&(t[s[n]]=c[s[n]]);return t};function Ce(c,e){return function(){const s=new Set(c.state[e]);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach(a=>a&&s.add(a)),c.setState({[e]:Array.from(s)})}}function be(c,e){return function(){const s=new Set(c.state[e]);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach(a=>a&&s.delete(a)),c.setState({[e]:Array.from(s)})}}const{hasOwnProperty:rt}=Object.prototype;class L extends re{constructor(e){super(e),this.onCollapseChange=()=>{this.foundation.handleCollapseChange()},this.foundation=new G(this.adapter),this.itemsChanged=!0;const{isCollapsed:t,defaultIsCollapsed:s,items:n,children:r}=e,i={isCollapsed:!!(this.isControlled("isCollapsed")?t:s),openKeys:[],items:[],itemKeysMap:{},selectedKeys:[]};if(this.state=Object.assign({},i),n&&n.length||r){const a=this.foundation.init("constructor");this.state=Object.assign(Object.assign({},i),a)}}static getDerivedStateFromProps(e,t){const s={};return rt.call(e,"isCollapsed")&&e.isCollapsed!==t.isCollapsed&&(s.isCollapsed=e.isCollapsed),s}componentDidMount(){}componentDidUpdate(e){if(e.items!==this.props.items||e.children!==this.props.children)this.foundation.init();else{if(this.foundation.handleItemsChange(!1),this.props.selectedKeys&&!pe(e.selectedKeys,this.props.selectedKeys)){this.adapter.updateSelectedKeys(this.props.selectedKeys);const t=this.foundation.getWillOpenKeys(this.state.itemKeysMap);this.adapter.updateOpenKeys(t)}this.props.openKeys&&!pe(e.openKeys,this.props.openKeys)&&this.adapter.updateOpenKeys(this.props.openKeys)}}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifySelect:function(){return e.props.onSelect(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},setIsCollapsed:t=>this.setState({isCollapsed:t}),notifyCollapseChange:function(){return e.props.onCollapseChange(...arguments)},updateItems:t=>this.setState({items:[...t]}),setItemKeysMap:t=>this.setState({itemKeysMap:Object.assign({},t)}),addSelectedKeys:Ce(this,"selectedKeys"),removeSelectedKeys:be(this,"selectedKeys"),updateSelectedKeys:function(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=t;if(s){const r=e.foundation.selectLevelZeroParentKeys(null,t);n=Array.from(new Set(t.concat(r)))}e.setState({selectedKeys:n})},updateOpenKeys:t=>this.setState({openKeys:[...t]}),addOpenKeys:Ce(this,"openKeys"),removeOpenKeys:be(this,"openKeys"),setItemsChanged:t=>{this.itemsChanged=t}})}renderItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const{expandIcon:s}=this.props;return O(ve,{children:e.map((r,i)=>Array.isArray(r.items)&&r.items.length?O(q,{...Object.assign({key:r.itemKey||String(t)+i},r,{level:t,expandIcon:s}),children:this.renderItems(r.items,t+1)}):O(V,{...Object.assign({key:r.itemKey||String(t)+i},r,{level:t})}))})}render(){const e=this.props,{children:t,mode:s,onOpenChange:n,onSelect:r,onClick:i,style:a,className:d,subNavCloseDelay:p,subNavOpenDelay:m,subNavMotion:h,tooltipShowDelay:x,tooltipHideDelay:I,prefixCls:g,bodyStyle:R,footer:y,header:f,toggleIconPosition:H,limitIndent:X,renderWrapper:E,getPopupContainer:T}=e,v=ot(e,["children","mode","onOpenChange","onSelect","onClick","style","className","subNavCloseDelay","subNavOpenDelay","subNavMotion","tooltipShowDelay","tooltipHideDelay","prefixCls","bodyStyle","footer","header","toggleIconPosition","limitIndent","renderWrapper","getPopupContainer"]),{selectedKeys:_,openKeys:A,items:$,isCollapsed:P}=this.state,{updateOpenKeys:Te,addOpenKeys:_e,removeOpenKeys:Ae,updateSelectedKeys:Pe,addSelectedKeys:De,removeSelectedKeys:we}=this.adapter,Le=Object.assign({},a);let N=ie.Children.toArray(t);const Q=[],J=[];if(l.isValidElement(y)?Q.push(O(D,{children:y},0)):y&&typeof y=="object"&&Q.push(O(D,{...Object.assign({key:0},y)})),l.isValidElement(f)?J.push(O(w,{children:f},0)):f&&typeof f=="object"&&J.push(O(w,{...Object.assign({key:0},f)})),Array.isArray(N)&&N.length){N=[...N];let Z=N.length;for(let j=0;j<Z;j++){const F=N[j];F.type===D||W(F,"type.elementType")==="NavFooter"?(Q.push(F),N.splice(j,1),j--,Z--):(F.type===w||W(F,"type.elementType")==="NavHeader")&&(J.push(F),N.splice(j,1),j--,Z--)}}const Re=b(g,d,{[`${g}-collapsed`]:P,[`${g}-horizontal`]:s==="horizontal",[`${g}-vertical`]:s==="vertical"}),je=b(`${g}-header-list-outer`,{[`${g}-header-list-outer-collapsed`]:P});return this.itemsChanged&&this.adapter.setCache("itemElems",this.renderItems($)),O(Ge,{componentName:"Navigation",children:Z=>O(U.Provider,{value:{subNavCloseDelay:p,subNavOpenDelay:m,subNavMotion:h,tooltipShowDelay:x,tooltipHideDelay:I,openKeys:A,openKeysIsControlled:this.isControlled("openKeys")&&s==="vertical"&&!P,canUpdateOpenKeys:!0,selectedKeys:_,selectedKeysIsControlled:this.isControlled("selectedKeys"),isCollapsed:P,onCollapseChange:this.onCollapseChange,mode:s,onSelect:r,onOpenChange:n,updateOpenKeys:Te,addOpenKeys:_e,removeOpenKeys:Ae,updateSelectedKeys:Pe,addSelectedKeys:De,removeSelectedKeys:we,onClick:i,locale:Z,prefixCls:g,toggleIconPosition:H,limitIndent:X,renderWrapper:E,getPopupContainer:T},children:O("div",{...Object.assign({className:Re,style:Le},this.getDataAttr(v)),children:ee("div",{className:`${g}-inner`,children:[ee("div",{className:je,children:[J,O("div",{style:R,className:`${g}-list-wrapper`,children:ee("ul",{role:"menu","aria-orientation":s,className:`${g}-list`,children:[this.adapter.getCache("itemElems"),N]})})]}),Q]})})})})}}L.Sub=q;L.Item=V;L.Header=w;L.Footer=D;L.propTypes={collapseIcon:o.node,defaultOpenKeys:o.arrayOf(o.oneOfType([o.string,o.number])),openKeys:o.arrayOf(o.oneOfType([o.string,o.number])),defaultSelectedKeys:o.arrayOf(o.oneOfType([o.string,o.number])),expandIcon:o.node,selectedKeys:o.arrayOf(o.oneOfType([o.string,o.number])),mode:o.oneOf([...u.MODE]),onSelect:o.func,onClick:o.func,onOpenChange:o.func,items:o.array,isCollapsed:o.bool,defaultIsCollapsed:o.bool,onCollapseChange:o.func,multiple:o.bool,onDeselect:o.func,subNavMotion:o.oneOfType([o.bool,o.object,o.func]),subNavCloseDelay:o.number,subNavOpenDelay:o.number,tooltipShowDelay:o.number,tooltipHideDelay:o.number,children:o.node,style:o.object,bodyStyle:o.object,className:o.string,toggleIconPosition:o.string,prefixCls:o.string,header:o.oneOfType([o.node,o.object]),footer:o.oneOfType([o.node,o.object]),limitIndent:o.bool,getPopupContainer:o.func};L.__SemiComponentName__="Navigation";L.defaultProps=Be(L.__SemiComponentName__,{subNavCloseDelay:k.DEFAULT_SUBNAV_CLOSE_DELAY,subNavOpenDelay:k.DEFAULT_SUBNAV_OPEN_DELAY,tooltipHideDelay:k.DEFAULT_TOOLTIP_HIDE_DELAY,tooltipShowDelay:k.DEFAULT_TOOLTIP_SHOW_DELAY,onCollapseChange:S,onSelect:S,onClick:S,onOpenChange:S,toggleIconPosition:"right",limitIndent:!0,prefixCls:K.PREFIX,subNavMotion:!0,mode:u.MODE_VERTICAL});export{B as L,L as N};
