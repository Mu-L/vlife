import{J as x,u as b,r,K as w,a as v,d as e,j as o}from"./index-BNDtW2eT.js";import{u as y,a as N,b as j,l as k}from"./login-CGhly-5G.js";import{l as I}from"./logo2-DYc4F8xQ.js";const S="/assets/wxgzh-BXzOIS3m.jpg",E=window.localStorage.getItem(x),F=()=>{const{user:l,login:u,error:h,giteeLogin:m}=b(),[s,g]=r.useState();r.useEffect(()=>{w().then(t=>{var c;g((c=t.data)==null?void 0:c[0])})},[]);const f=v(),{values:i,setFieldValue:n}=y({username:E||"",password:""},null);r.useEffect(()=>{l&&l.id&&f("/")},[l]);const d=async()=>{await u(i).then(()=>{})},p="",[a,P]=N(["code","from"]);return r.useEffect(()=>{a.code!==void 0&&a.from==="gitee"&&m(a.code).then(t=>{})},[a]),e("div",{style:{backgroundImage:`url(${j})`},className:"bg-fixed relative bg-cover bg-center w-full justify-center flex items-center h-screen",children:o("div",{style:{width:"748px",height:"334px"},className:"  flex justify-center items-center",children:[e("div",{style:{width:"398px",backgroundImage:`url(${k})`,backgroundSize:"cover",backgroundPosition:"center"},className:"h-full bg-white rounded-l-3xl shadow-xl shadow-left shadow-top shadow-bottom"}),o("div",{style:{width:"358px",height:"334px"},className:"relative  flex justify-center items-center bg-white rounded-r-3xl shadow-xl shadow-right shadow-top shadow-bottom",children:[o("div",{className:" absolute top-1 right-3  ",children:[e("img",{src:S,className:" w-24 "}),"关注获取账号"]}),o("div",{style:{width:"258px"},className:"flex flex-col  justify-center items-center",children:[e("div",{className:" flex justify-left w-full ",children:s!=null&&s.icon?e("img",{src:p+"/sysFile/image/"+(s==null?void 0:s.icon),style:{width:160,height:40,top:10}}):e("img",{src:I,style:{width:150,height:50,top:10}})}),e("p",{className:"text-red-400 pt-2 text-center  text-sm",children:h}),e("div",{className:"mb-1 pt-2 rounded",children:e("input",{type:"text",placeholder:"用户名",id:"username",value:i.username,onChange:t=>n("username",t.target.value),className:"  itali h-10 text-xl  rounded w-full text-gray-700 focus:outline-none border-b border-gray-300 focus:border-blue-400 transition duration-500 px-3 pb-3"})}),e("div",{className:"mb-2 pt-3 rounded ",children:e("input",{type:"password",id:"password",placeholder:"密码",value:i.password,onChange:t=>n("password",t.target.value),onKeyPress:t=>{t.key==="Enter"&&d()},className:"h-10  text-xl  rounded w-full text-gray-700 focus:outline-none border-b border-gray-300 focus:border-blue-400 transition duration-500 px-3 pb-3"})}),e("button",{className:" mt-4 w-64 bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 rounded-md shadow-lg hover:shadow-xl transition duration-200",onClick:d,children:"登 录"})]})]})]})})};export{F as default};
